\input{preamble}

% OK, start here.
%
\input{chapter_modifications.tex}
\begin{document}

\title{Constructions With Relations}

\maketitle

\phantomsection
\label{section-phantom}

This chapter contains some material about constructions with relations. Notably, we discuss and explore:
\begin{enumerate}
    \item\label{constructions-with-relations-introduction-item-1}The existence or non-existence of Kan extensions and Kan lifts in the $2$-category $\sfbfRel$ (\cref{section-kan-extensions-and-kan-lifts-in-the-2-category-of-relations}).
    \item\label{constructions-with-relations-introduction-item-2}The various kinds of constructions involving relations, such as graphs, domains, ranges, unions, intersections, products, inverse relations, composition of relations, and collages (\cref{section-more-constructions-with-relations}).
    \item\label{constructions-with-relations-introduction-item-3}The adjoint pairs
        \begin{align*}
            R_{*}  \dashv R_{-1} &\colon \mathcal{P}(A) \rightleftarrows \mathcal{P}(B),\\
            R^{-1} \dashv R_{!}  &\colon \mathcal{P}(B) \rightleftarrows \mathcal{P}(A)
        \end{align*}
        of functors (morphisms of posets) between $\mathcal{P}(A)$ and $\mathcal{P}(B)$ induced by a relation $R\colon A\rightproarrow B$, as well as the properties of $R_{*}$, $R_{-1}$, $R^{-1}$, and $R_{!}$ (\cref{section-functoriality-of-powersets}).

        Of particular note are the following points:
        \begin{enumerate}
            \item\label{constructions-with-relations-introduction-item-3a}These two pairs of adjoint functors are the counterpart for relations of the adjoint triple $f_{*}\dashv f^{-1}\dashv f_{!}$ induced by a function $f\colon A\to B$ studied in \ChapterRef{\ChapterConstructionsWithSets, \cref{constructions-with-sets:section-powersets}}{\cref{section-powersets}}.
            \item\label{constructions-with-relations-introduction-item-3b}We have $R_{-1}=R^{-1}$ \textiff $R$ is total and functional (\cref{properties-of-strong-inverse-image-functions-associated-to-relations-interaction-with-weak-inverse-images-2} of \cref{properties-of-strong-inverse-image-functions-associated-to-relations}).
            \item\label{constructions-with-relations-introduction-item-3c}As a consequence of the previous item, when $R$ comes from a function $f$, the pair of adjunctions
                \[
                    R_{*}\dashv R_{-1}=R^{-1}\dashv R_{!}%
                \]%
                reduces to the triple adjunction
                \[
                    f_{*}\dashv f^{-1}\dashv f_{!}%
                \]%
                from \ChapterRef{\ChapterConstructionsWithSets, \cref{constructions-with-sets:section-powersets}}{\cref{section-powersets}}.
            \item\label{constructions-with-relations-introduction-item-3d}The pairs $R_{*}\dashv R_{-1}$ and $R^{-1}\dashv R_{!}$ turn out to be rather important later on, as they appear in the definition and study of continuous, open, and closed relations between topological spaces (\ChapterRef{\ChapterTopologicalSpaces, \cref{topological-spaces:section-relations-between-topological-spaces}}{\cref{section-relations-between-topological-spaces}}).
        \end{enumerate}
\end{enumerate}

\ChapterTableOfContents

\section{Co/Limits in the Category of Relations}\label{section-co-limits-in-the-category-of-relations}
This section is currently just a stub, and will be properly developed later on.
\section{Kan Extensions and Kan Lifts in the $2$-Category of Relations}\label{section-kan-extensions-and-kan-lifts-in-the-2-category-of-relations}
\subsection{Left Kan Extensions in $\sfbfRel$}\label{subsection-left-kan-extensions-in-rel}
\begin{proposition}{Left Kan Extensions in $\sfbfRel$}{left-kan-extensions-in-rel}%
    Let $R\colon A\rightproarrow B$ be a relation.
    \begin{enumerate}
        \item\label{left-kan-extensions-in-rel-non-existence-of-all-left-kan-extensions-in-rel}\SloganFont{Non-Existence of All Left Kan Extensions in $\sfbfRel$. }Not all relations in $\sfbfRel$ admit left Kan extensions.
        \item\label{left-kan-extensions-in-rel-characterisation-of-relations-admitting-left-kan-extensions-along-them}\SloganFont{Characterisation of Relations Admitting Left Kan Extensions Along Them. }The following conditions are equivalent:
            \begin{enumerate}
                \item The left Kan extension
                    \[
                        \Lan_{R}%
                        \colon%
                        \eRel(A,X)%
                        \to%
                        \eRel(B,X)%
                    \]%
                    along $R$ exists.
                \item The relation $R$ admits a left adjoint in $\sfbfRel$.
                \item The relation $R$ is of the form $f^{-1}$ (as in \cref{the-inverse-of-a-function}) for some function $f$.
            \end{enumerate}
        %\item\label{left-kan-extensions-in-rel-}\SloganFont{. }
    \end{enumerate}
\end{proposition}
\begin{Proof}{Proof of \cref{left-kan-extensions-in-rel}}%
    \FirstProofBox{\cref{left-kan-extensions-in-rel-non-existence-of-all-left-kan-extensions-in-rel}: Non-Existence of All Left Kan Extensions in $\sfbfRel$}%
    Omitted, but will eventually follow \href{https://mathoverflow.net/questions/460656/existence-and-characterisations-of-left-kan-extensions-and-liftings-in-the-bicat\#comment1194691\_460656}{Fosco Loregian's comment} on \cite{MO460656}.

    \ProofBox{\cref{left-kan-extensions-in-rel-characterisation-of-relations-admitting-left-kan-extensions-along-them}: Characterisation of Relations Admitting Left Kan Extensions Along Them}%
    Omitted, but will eventually follow \href{https://mathoverflow.net/a/460693}{Tim Campion's answer to} to \cite{MO460656}.
\end{Proof}
\begin{question}{Existence of Specific Left Kan Extensions of Relations}{existence-of-specific-left-kan-extensions-of-relations}%
    Given relations $S\colon A\rightproarrow X$ and $R\colon A\rightproarrow B$, is there a characterisation of when the left Kan extension
    \[
        \Lan_{S}(R)%
        \colon%
        B%
        \rightproarrow%
        X%
    \]%
    exists in terms of properties of $R$ and $S$?

    This question also appears as \cite{MO461592}.
\end{question}
\begin{question}{Explicit Description of Left Kan Extensions Along Functions}{explicit-description-of-left-kan-extensions-along-functions}%
    As shown in \cref{left-kan-extensions-in-rel-characterisation-of-relations-admitting-left-kan-extensions-along-them} of \cref{left-kan-extensions-in-rel}, the left Kan extension
    \[
        \Lan_{R}%
        \colon%
        \eRel(A,X)%
        \to%
        \eRel(B,X)%
    \]%
    along a relation of the form $R=f^{-1}$ exists. Is there a explicit description of it, similarly to the explicit description of right Kan extensions given in \cref{existence-of-right-kan-extensions-in-rel}?

    This question also appears as \cite{MO461592}.
\end{question}
\subsection{Left Kan Lifts in $\sfbfRel$}\label{subsection-left-kan-lifts-in-rel}
\begin{proposition}{Left Kan Lifts in $\sfbfRel$}{left-kan-lifts-in-rel}%
    Let $R\colon A\rightproarrow B$ be a relation.
    \begin{enumerate}
        \item\label{left-kan-lifts-in-rel-non-existence-of-all-left-kan-lifts-in-rel}\SloganFont{Non-Existence of All Left Kan Lifts in $\sfbfRel$. }Not all relations in $\sfbfRel$ admit left Kan lifts.
        \item\label{left-kan-lifts-in-rel-characterisation-of-relations-admitting-left-kan-lifts-along-them}\SloganFont{Characterisation of Relations Admitting Left Kan Lifts Along Them. }The following conditions are equivalent:
            \begin{enumerate}
                \item The left Kan lift
                    \[
                        \Lift_{R}%
                        \colon%
                        \eRel(X,B)%
                        \to%
                        \eRel(X,A)%
                    \]%
                    along $R$ exists.
                \item The relation $R$ admits a right adjoint in $\sfbfRel$.
                \item The relation $R$ is of the form $\Gr(f)$ (as in \cref{the-graph-of-a-function}) for some function $f$.
            \end{enumerate}
        %\item\label{left-kan-lifts-in-rel-}\SloganFont{. }
    \end{enumerate}
\end{proposition}
\begin{Proof}{Proof of \cref{left-kan-lifts-in-rel}}%
    \FirstProofBox{\cref{left-kan-lifts-in-rel-non-existence-of-all-left-kan-lifts-in-rel}: Non-Existence of All Left Kan Lifts in $\sfbfRel$}%
    Omitted, but will eventually follow (the dual of) \href{https://mathoverflow.net/questions/460656/existence-and-characterisations-of-left-kan-lifts-and-liftings-in-the-bicat#comment1194691_460656}{Fosco Loregian's comment} on \cite{MO460656}.

    \ProofBox{\cref{left-kan-lifts-in-rel-characterisation-of-relations-admitting-left-kan-lifts-along-them}: Characterisation of Relations Admitting Left Kan Lifts Along Them}%
    Omitted, but will eventually follow \href{https://mathoverflow.net/a/460693}{Tim Campion's answer to} to \cite{MO460656}.
\end{Proof}
\begin{question}{Existence of Specific Left Kan Lifts of Relations}{existence-of-specific-left-kan-lifts-of-relations}%
    Given relations $S\colon A\rightproarrow X$ and $R\colon A\rightproarrow B$, is there a characterisation of when the left Kan lift
    \[
        \Lift_{S}(R)%
        \colon%
        X%
        \rightproarrow%
        A%
    \]%
    exists in terms of properties of $R$ and $S$?

    This question also appears as \cite{MO461592}.
\end{question}
\begin{question}{Explicit Description of Left Kan Lifts Along Functions}{explicit-description-of-left-kan-lifts-along-functions}%
    As shown in \cref{left-kan-lifts-in-rel-characterisation-of-relations-admitting-left-kan-lifts-along-them} of \cref{left-kan-lifts-in-rel}, the left Kan lift
    \[
        \Lift_{R}%
        \colon%
        \eRel(X,B)%
        \to%
        \eRel(X,A)%
    \]%
    along a relation of the form $R=\Gr(f)$ exists. Is there a explicit description of it, similarly to the explicit description of right Kan lifts given in \cref{existence-of-right-kan-lifts-in-rel}?

    This question also appears as \cite{MO461592}.
\end{question}
\subsection{Right Kan Extensions in $\sfbfRel$}\label{subsection-right-kan-extensions-in-rel}
Let $R\colon A\rightproarrow B$ be a relation.
\begin{proposition}{Existence of Right Kan Extensions in $\sfbfRel$}{existence-of-right-kan-extensions-in-rel}%
    The right Kan extension
    \[
        \Ran_{R}%
        \colon%
        \Rel(A,X)%
        \to%
        \Rel(B,X)%
    \]%
    along $R$ in $\sfbfRel$ exists and is given by
    \[
        \Ran_{R}(S)%
        \defeq%
        \int_{a\in A}\eHom_{\TTV}(R^{-_{2}}_{a},S^{-_{1}}_{a})
    \]%
    for each $S\in\Rel(A,X)$, so that the following conditions are equivalent:
    \begin{enumerate}
        \item\label{existence-of-right-kan-extensions-in-rel-1}We have $b\sim_{\Ran_{R}(S)}x$.
        \item\label{existence-of-right-kan-extensions-in-rel-2}For each $a\in A$, if $a\sim_{R}b$, then $a\sim_{S}x$.
    \end{enumerate}
\end{proposition}
\begin{Proof}{Proof of \cref{existence-of-right-kan-extensions-in-rel}}%
    We have
    \begin{envsmallsize}
        \begin{align*}
            \Hom_{\eRel(A,X)}(S\procirc R,T) &\cong  \int_{a\in A}\int_{x\in X}\eHom_{\TTV}((S\procirc R)^{x}_{a},T^{x}_{a})\\
                                             &\cong  \int_{a\in A}\int_{x\in X}\eHom_{\TTV}((\int^{b\in B}S^{x}_{b}\times R^{b}_{a}),T^{x}_{a})\\
                                             &\cong  \int_{a\in A}\int_{x\in X}\int_{b\in B}\eHom_{\TTV}(S^{x}_{b}\times R^{b}_{a},T^{x}_{a})\\
                                             &\cong  \int_{a\in A}\int_{x\in X}\int_{b\in B}\eHom_{\TTV}(S^{x}_{b},\eHom_{\TTV}(R^{b}_{a},T^{x}_{a}))\\
                                             &\cong  \int_{b\in B}\int_{x\in X}\int_{a\in A}\eHom_{\TTV}(S^{x}_{b},\eHom_{\TTV}(R^{b}_{a},T^{x}_{a}))\\
                                             &\cong  \int_{b\in B}\int_{x\in X}\eHom_{\TTV}(S^{x}_{b},\int_{a\in A}\eHom_{\TTV}(R^{b}_{a},T^{x}_{a}))\\
                                             &\cong  \Hom_{\eRel(B,X)}(S,\int_{a\in A}\eHom_{\TTV}(R^{-_{2}}_{a},T^{-_{1}}_{a}))%
        \end{align*}
    \end{envsmallsize}
    naturally in each $S\in\eRel(B,X)$ and each $T\in\eRel(A,X)$, showing that
    \[
        \int_{a\in A}\eHom_{\TTV}(R^{-_{2}}_{a},T^{-_{1}}_{a})%
    \]%
    is right adjoint to the precomposition functor $-\procirc R$, being thus the right Kan extension along $R$. Here we have used the following results, respectively (i.e.\ for each $\cong$ sign):
    \begin{enumerate}
        \item\label{existence-of-right-kan-extensions-in-rel-1}\ChapterRef{\ChapterRelations, \cref{relations:properties-of-relations-end-formula-for-the-set-of-inclusions-of-relations} of \cref{relations:properties-of-relations}}{\cref{properties-of-relations-end-formula-for-the-set-of-inclusions-of-relations} of \cref{properties-of-relations}}.
        \item\label{existence-of-right-kan-extensions-in-rel-2}\cref{composition-of-relations}.
        \item\label{existence-of-right-kan-extensions-in-rel-3}\ChapterRef{\ChapterEndsAndCoends, \cref{ends-and-coends:properties-of-co-ends-commutativity-with-homs} of \cref{ends-and-coends:properties-of-co-ends}}{\cref{properties-of-co-ends-commutativity-with-homs} of \cref{properties-of-co-ends}}.
        \item\label{existence-of-right-kan-extensions-in-rel-4}\ChapterRef{\ChapterSets, \cref{sets:cartesian-closedness-of-the-poset-of-truth-values}}{\cref{cartesian-closedness-of-the-poset-of-truth-values}}.
        \item\label{existence-of-right-kan-extensions-in-rel-5}\ChapterRef{\ChapterEndsAndCoends, \cref{ends-and-coends:properties-of-co-ends-the-fubini-rule} of \cref{ends-and-coends:properties-of-co-ends}}{\cref{properties-of-co-ends-the-fubini-rule} of \cref{properties-of-co-ends}}.
        \item\label{existence-of-right-kan-extensions-in-rel-6}\ChapterRef{\ChapterEndsAndCoends, \cref{ends-and-coends:properties-of-co-ends-commutativity-with-homs} of \cref{ends-and-coends:properties-of-co-ends}}{\cref{properties-of-co-ends-commutativity-with-homs} of \cref{properties-of-co-ends}}.
        \item\label{existence-of-right-kan-extensions-in-rel-7}\ChapterRef{\ChapterRelations, \cref{relations:properties-of-relations-end-formula-for-the-set-of-inclusions-of-relations} of \cref{relations:properties-of-relations}}{\cref{properties-of-relations-end-formula-for-the-set-of-inclusions-of-relations} of \cref{properties-of-relations}}.
    \end{enumerate}
    This finishes the proof.
\end{Proof}
\subsection{Right Kan Lifts in $\sfbfRel$}\label{subsection-right-kan-lifts-in-rel}
Let $R\colon A\rightproarrow B$ be a relation.
\begin{proposition}{Existence of Right Kan Lifts in $\sfbfRel$}{existence-of-right-kan-lifts-in-rel}%
    The right Kan lift
    \[
        \Rift_{R}%
        \colon%
        \Rel(X,B)%
        \to%
        \Rel(X,A)%
    \]%
    along $R$ in $\sfbfRel$ exists and is given by
    \[
        \Rift_{R}(S)%
        \defeq%
        \int_{b\in B}\eHom_{\TTV}(R^{b}_{-_{1}},S^{b}_{-_{2}})
    \]%
    for each $S\in\Rel(X,B)$, so that the following conditions are equivalent:
    \begin{enumerate}
        \item\label{existence-of-right-kan-lifts-in-rel-1}We have $x\sim_{\Rift_{R}(S)}a$.
        \item\label{existence-of-right-kan-lifts-in-rel-2}For each $b\in B$, if $a\sim_{R}b$, then $x\sim_{S}b$.
    \end{enumerate}
\end{proposition}
\begin{Proof}{Proof of \cref{existence-of-right-kan-lifts-in-rel}}%
    We have
    \begin{envsmallsize}
        \begin{align*}
            \Hom_{\eRel(X,B)}(R\procirc S,T) &\cong  \int_{x\in X}\int_{b\in B}\eHom_{\TTV}((R\procirc S)^{b}_{x},T^{b}_{x})\\
                                             &\cong  \int_{x\in X}\int_{b\in B}\eHom_{\TTV}((\int^{a\in A}R^{b}_{a}\times S^{a}_{x}),T^{b}_{x})\\
                                             &\cong  \int_{x\in X}\int_{b\in B}\int_{a\in A}\eHom_{\TTV}(R^{b}_{a}\times S^{a}_{x},T^{b}_{x})\\
                                             &\cong  \int_{x\in X}\int_{b\in B}\int_{a\in A}\eHom_{\TTV}(S^{a}_{x},\eHom_{\TTV}(R^{b}_{a},T^{b}_{x}))\\
                                             &\cong  \int_{x\in X}\int_{a\in A}\int_{b\in B}\eHom_{\TTV}(S^{a}_{x},\eHom_{\TTV}(R^{b}_{a},T^{b}_{x}))\\
                                             &\cong  \int_{x\in X}\int_{a\in A}\eHom_{\TTV}(S^{a}_{x},\int_{b\in B}\eHom_{\TTV}(R^{b}_{a},T^{b}_{x}))\\
                                             &\cong  \Hom_{\eRel(X,A)}(S,\int_{b\in B}\eHom_{\TTV}(R^{b}_{-_{1}},T^{b}_{-_{2}}))%
        \end{align*}
    \end{envsmallsize}
    naturally in each $S\in\eRel(X,A)$ and each $T\in\eRel(X,B)$, showing that
    \[
        \int_{b\in B}\eHom_{\TTV}(R^{b}_{-_{1}},S^{b}_{-_{2}})%
    \]%
    is right adjoint to the postcomposition functor $R\procirc-$, being thus the right Kan lift along $R$. Here we have used the following results, respectively (i.e.\ for each $\cong$ sign):
    \begin{enumerate}
        \item\label{proof-of-existence-of-right-kan-lifts-in-rel-1}\ChapterRef{\ChapterRelations, \cref{relations:properties-of-relations-end-formula-for-the-set-of-inclusions-of-relations} of \cref{relations:properties-of-relations}}{\cref{properties-of-relations-end-formula-for-the-set-of-inclusions-of-relations} of \cref{properties-of-relations}}.
        \item\label{proof-of-existence-of-right-kan-lifts-in-rel-2}\cref{composition-of-relations}.
        \item\label{proof-of-existence-of-right-kan-lifts-in-rel-3}\ChapterRef{\ChapterEndsAndCoends, \cref{ends-and-coends:properties-of-co-ends-commutativity-with-homs} of \cref{ends-and-coends:properties-of-co-ends}}{\cref{properties-of-co-ends-commutativity-with-homs} of \cref{properties-of-co-ends}}.
        \item\label{proof-of-existence-of-right-kan-lifts-in-rel-4}\ChapterRef{\ChapterSets, \cref{sets:cartesian-closedness-of-the-poset-of-truth-values}}{\cref{cartesian-closedness-of-the-poset-of-truth-values}}.
        \item\label{proof-of-existence-of-right-kan-lifts-in-rel-5}\ChapterRef{\ChapterEndsAndCoends, \cref{ends-and-coends:properties-of-co-ends-the-fubini-rule} of \cref{ends-and-coends:properties-of-co-ends}}{\cref{properties-of-co-ends-the-fubini-rule} of \cref{properties-of-co-ends}}.
        \item\label{proof-of-existence-of-right-kan-lifts-in-rel-6}\ChapterRef{\ChapterEndsAndCoends, \cref{ends-and-coends:properties-of-co-ends-commutativity-with-homs} of \cref{ends-and-coends:properties-of-co-ends}}{\cref{properties-of-co-ends-commutativity-with-homs} of \cref{properties-of-co-ends}}.
        \item\label{proof-of-existence-of-right-kan-lifts-in-rel-7}\ChapterRef{\ChapterRelations, \cref{relations:properties-of-relations-end-formula-for-the-set-of-inclusions-of-relations} of \cref{relations:properties-of-relations}}{\cref{properties-of-relations-end-formula-for-the-set-of-inclusions-of-relations} of \cref{properties-of-relations}}.
    \end{enumerate}
    This finishes the proof.
\end{Proof}
\section{More Constructions With Relations}\label{section-more-constructions-with-relations}
\subsection{The Graph of a Function}\label{subsection-the-graph-of-a-function}
Let $f\colon A\to B$ be a function.
\begin{definition}{The Graph of a Function}{the-graph-of-a-function}%
    The \index[set-theory]{function!graph of}\textbf{graph of $f$} is the relation $\Gr(f)\colon A\rightproarrow B$ defined as follows:%
    %--- Begin Footnote ---%
    \footnote{%
        \SloganFont{Further Notation: }We write \index[notation]{GrA@$\Gr(A)$}$\Gr(A)$ for $\Gr(\id_{A})$, and call it the \textbf{graph} of $A$.
        \par\vspace*{-1.75\baselineskip}
    }%
    %---  End Footnote  ---%
    \begin{itemize}
        \item Viewing relations from $A$ to $B$ as subsets of $A\times B$, we define
            \[
                \Gr(f)%
                \defeq%
                \{(a,f(a))\in A\times B\ \middle|\ a\in A\}.%
            \]%
        \item Viewing relations from $A$ to $B$ as functions $A\times B\to\TV$, we define
            \[
                [\Gr(f)](a,b)%
                \defeq%
                \begin{cases}
                    \true  &\text{if $b=f(a)$,}\\
                    \false &\text{otherwise}
                \end{cases}
            \]%
            for each $(a,b)\in A\times B$.
        \item Viewing relations from $A$ to $B$ as functions $A\to\mathcal{P}(B)$, we define
            \[
                [\Gr(f)](a)%
                \defeq%
                \{f(a)\}%
            \]%
            for each $a\in A$, i.e.\ we define $\Gr(f)$ as the composition
            \[
                A
                \xlongrightarrow{f}
                B
                \xlongrightarrow{\chi_{B}}
                \mathcal{P}(B).
            \]%
    \end{itemize}
\end{definition}
\begin{proposition}{Properties of Graphs of Functions}{properties-of-graphs-of-functions}%
    Let $f\colon A\to B$ be a function.
    \begin{enumerate}
        \item\label{properties-of-graphs-of-functions-functoriality}\SloganFont{Functoriality. }The assignment $A\mapsto\Gr(A)$ defines a functor
            \[
                \Gr%
                \colon%
                \Sets%
                \to%
                \Rel%
            \]%
            where
            \begin{itemize}
                \item\SloganFont{Action on Objects. }For each $A\in\Obj(\Sets)$, we have
                    \[
                        \Gr(A)%
                        \defeq
                        A.
                    \]%
                \item\SloganFont{Action on Morphisms. }For each $A,B\in\Obj(\Sets)$, the action on $\Hom$-sets
                    \[
                        \Gr_{A,B}%
                        \colon%
                        \Sets(A,B)
                        \to
                        \underbrace{\Rel(\Gr(A),\Gr(B))}_{\defeq\Rel(A,B)}%
                    \]%
                    of $\Gr$ at $(A,B)$ is defined by
                    \[
                        \Gr_{A,B}(f)
                        \defeq
                        \Gr(f),
                    \]%
                    where $\Gr(f)$ is the graph of $f$ as in \cref{the-graph-of-a-function}.
            \end{itemize}
            In particular:
            \begin{itemize}
                \item\SloganFont{Preservation of Identities. }We have
                    \[
                        \Gr(\id_{A})%
                        =%
                        \chi_{A}%
                    \]%
                    for each $A\in\Obj(\Sets)$.
                \item\SloganFont{Preservation of Composition. }We have
                    \[
                        \Gr(g\circ f)%
                        =%
                        \Gr(g)\procirc\Gr(f)%
                    \]%
                    for each pair of functions $f\colon A\to B$ and $g\colon B\to C$.
            \end{itemize}
        \item\label{properties-of-graphs-of-functions-adjointness-inside-sfbfrel}\SloganFont{Adjointness Inside $\sfbfRel$. }We have an adjunction
            \begin{webcompile}
                \RelAdjunctionShortSize#4.0#\Gr(f)#f^{-1}#A#B#
            \end{webcompile}%
            in $\sfbfRel$, where $f^{-1}$ is the inverse of $f$ of \cref{the-inverse-of-a-function}.
        \item\label{properties-of-graphs-of-functions-adjointness}\SloganFont{Adjointness. }We have an adjunction
            \begin{webcompile}
                \Adjunction#\Gr#\mathcal{P}_{*}#\Sets#\Rel,#
            \end{webcompile}%
            witnessed by a bijection of sets%
            \[
                \Rel(\Gr(A),B)
                \cong
                \Sets(A,\mathcal{P}(B))
            \]%
            natural in $A\in\Obj(\Sets)$ and $B\in\Obj(\Rel)$.
        \item\label{properties-of-graphs-of-functions-interaction-with-inverses}\SloganFont{Interaction With Inverses. }We have
            \begin{align*}
                \Gr(f)^{\dagger}   &= f^{-1},\\
                (f^{-1})^{\dagger} &= \Gr(f).
            \end{align*}
        \item\label{properties-of-graphs-of-functions-cocontinuity}\SloganFont{Cocontinuity. }The functor $\Gr\colon\Sets\to\Rel$ of \cref{properties-of-graphs-of-functions-functoriality} preserves colimits.
        \item\label{properties-of-graphs-of-functions-characterisations}\SloganFont{Characterisations. }Let $R\colon A\rightproarrow B$ be a relation. The following conditions are equivalent:
            \begin{enumerate}
                \item\label{properties-of-graphs-of-functions-characterisations-1}There exists a function $f\colon A\to B$ such that $R=\Gr(f)$.
                \item\label{properties-of-graphs-of-functions-characterisations-2}The relation $R$ is total and functional.
                \item\label{properties-of-graphs-of-functions-characterisations-3}The weak and strong inverse images of $R$ agree, i.e.\ we have $R^{-1}=R_{-1}$.
                \item\label{properties-of-graphs-of-functions-characterisations-4}The relation $R$ has a right adjoint $R^{\dagger}$ in $\Rel$.
            \end{enumerate}
        %\item\label{properties-of-graphs-of-functions-}\SloganFont{. }
    \end{enumerate}
\end{proposition}
\begin{Proof}{Proof of \cref{properties-of-graphs-of-functions}}%
    \FirstProofBox{\cref{properties-of-graphs-of-functions-functoriality}: Functoriality}%
    Clear.

    \ProofBox{\cref{properties-of-graphs-of-functions-adjointness-inside-sfbfrel}: Adjointness Inside $\sfbfRel$}%
    We need to check that there are inclusions
    \begin{align*}
        \chi_{A}              &\subset f^{-1}\procirc\Gr(f),\\
        \Gr(f)\procirc f^{-1} &\subset \chi_{B}.
    \end{align*}
    These correspond respectively to the following conditions:
    \begin{enumerate}
        \item For each $a\in A$, there exists some $b\in B$ such that $a\sim_{\Gr(f)}b$ and $b\sim_{f^{-1}}a$.
        \item For each $a,b\in A$, if $a\sim_{\Gr(f)}b$ and $b\sim_{f^{-1}}a$, then $a=b$.
    \end{enumerate}
    In other words, the first condition states that the image of any $a\in A$ by $f$ is nonempty, whereas the second condition states that $f$ is not multivalued. As $f$ is a function, both of these statements are true, and we are done.

    \ProofBox{\cref{properties-of-graphs-of-functions-adjointness}: Adjointness}%
    The stated bijection follows from \ChapterRef{\ChapterRelations, \cref{relations:equivalent-definitions-of-relations}}{\cref{equivalent-definitions-of-relations}}, with naturality being clear.

    \ProofBox{\cref{properties-of-graphs-of-functions-interaction-with-inverses}: Interaction With Inverses}%
    Clear.

    \ProofBox{\cref{properties-of-graphs-of-functions-cocontinuity}: Cocontinuity}%
    Omitted.

    \ProofBox{\cref{properties-of-graphs-of-functions-characterisations}: Characterisations}%
    We claim that \cref{properties-of-graphs-of-functions-characterisations-1,properties-of-graphs-of-functions-characterisations-2,properties-of-graphs-of-functions-characterisations-3,properties-of-graphs-of-functions-characterisations-4} are indeed equivalent:
    \begin{itemize}
        \item\SloganFont{\cref{properties-of-graphs-of-functions-characterisations-1}$\iff$\cref{properties-of-graphs-of-functions-characterisations-2}. }This is shown in the proof of \cref{properties-of-the-category-of-relations-adjunctions-in-rel} of \cref{properties-of-the-category-of-relations}.
        \item\SloganFont{\cref{properties-of-graphs-of-functions-characterisations-2}$\implies$\cref{properties-of-graphs-of-functions-characterisations-3}. }If $R$ is total and functional, then, for each $a\in A$, the set $R(a)$ is a singleton, implying that
            \begin{align*}
                R^{-1}(V) &\defeq \{a\in A \ \middle|\ R(a)\cap V\neq\emptyset\},\\
                R_{-1}(V) &\defeq \{a\in A\ \middle|\ R(a)\subset V\}%
            \end{align*}
            are equal for all $V\in\mathcal{P}(B)$, as the conditions $R(a)\cap V\neq\emptyset$ and $R(a)\subset V$ are equivalent when $R(a)$ is a singleton.
        \item\SloganFont{\cref{properties-of-graphs-of-functions-characterisations-3}$\implies$\cref{properties-of-graphs-of-functions-characterisations-2}. }We claim that $R$ is indeed total and functional:
            \begin{itemize}
                \item\SloganFont{Totality. }If we had $R(a)=\emptyset$ for some $a\in A$, then we would have $a\in R_{-1}(\emptyset)$, so that $R_{-1}(\emptyset)\neq\emptyset$. But since $R^{-1}(\emptyset)=\emptyset$, this would imply $R_{-1}(\emptyset)\neq R^{-1}(\emptyset)$, a contradiction. Thus $R(a)\neq\emptyset$ for all $a\in A$ and $R$ is total.
                \item\SloganFont{Functionality. } If $R^{-1}=R_{-1}$, then we have
                    \begin{align*}
                        \{a\} &= R^{-1}(\{b\})\\
                              &= R_{-1}(\{b\})
                    \end{align*}
                    for each $b\in R(a)$ and each $a\in A$, and thus $R(a)\subset\{b\}$. But since $R$ is total, we must have $R(a)=\{b\}$, and thus we see that $R$ is functional.
            \end{itemize}
        \item\SloganFont{\cref{properties-of-graphs-of-functions-characterisations-1}$\iff$\cref{properties-of-graphs-of-functions-characterisations-4}. }This follows from \ChapterRef{\ChapterRelations, \cref{relations:adjunctions-in-rel}}{\cref{adjunctions-in-rel}}.
    \end{itemize}
    This finishes the proof.
\end{Proof}
\subsection{The Inverse of a Function}\label{subsection-the-inverse-of-a-function}
Let $f\colon A\to B$ be a function.
\begin{definition}{The Inverse of a Function}{the-inverse-of-a-function}%
    The \index[set-theory]{function!inverse of}\textbf{inverse of $f$} is the relation $f^{-1}\colon B\rightproarrow A$ defined as follows:%
    \begin{itemize}
        \item Viewing relations from $B$ to $A$ as subsets of $B\times A$, we define
            \[
                f^{-1}%
                \defeq%
                \{(b,f^{-1}(b))\in B\times A\ \middle|\ a\in A\},%
            \]%
            where
            \[
                f^{-1}(b)%
                \defeq%
                \{%
                    a\in A%
                    \ \middle|\ %
                    f(a)=b%
                \}%
            \]%
            for each $b\in B$.
        \item Viewing relations from $B$ to $A$ as functions $B\times A\to\TV$, we define
            \[
                f^{-1}(b,a)%
                \defeq%
                \begin{cases}
                    \true  &\text{if there exists $a\in A$ with $f(a)=b$,}\\
                    \false &\text{otherwise}
                \end{cases}
            \]%
            for each $(b,a)\in B\times A$.
        \item Viewing relations from $B$ to $A$ as functions $B\to\mathcal{P}(A)$, we define
            \[
                f^{-1}(b)%
                \defeq%
                \{%
                    a\in A%
                    \ \middle|\ %
                    f(a)=b%
                \}%
            \]%
            for each $b\in B$.
    \end{itemize}
\end{definition}
\begin{proposition}{Properties of Inverses of Functions}{properties-of-inverses-of-functions}%
    Let $f\colon A\to B$ be a function.
    \begin{enumerate}
        \item\label{properties-of-inverses-of-functions-functoriality}\SloganFont{Functoriality. }The assignment $A\mapsto A$, $f\mapsto f^{-1}$ defines a functor
            \[
                (-)^{-1}%
                \colon%
                \Sets%
                \to%
                \Rel%
            \]%
            where
            \begin{itemize}
                \item\SloganFont{Action on Objects. }For each $A\in\Obj(\Sets)$, we have
                    \[
                        \left[(-)^{-1}\right](A)%
                        \defeq
                        A.
                    \]%
                \item\SloganFont{Action on Morphisms. }For each $A,B\in\Obj(\Sets)$, the action on $\Hom$-sets
                    \[
                        (-)^{-1}_{A,B}%
                        \colon%
                        \Sets(A,B)
                        \to
                        \Rel(A,B)
                    \]%
                    of $(-)^{-1}$ at $(A,B)$ is defined by
                    \[
                        (-)^{-1}_{A,B}(f)
                        \defeq
                        \left[(-)^{-1}\right](f),
                    \]%
                    where $f^{-1}$ is the inverse of $f$ as in \cref{the-inverse-of-a-function}.
            \end{itemize}
            In particular:
            \begin{itemize}
                \item\SloganFont{Preservation of Identities. }We have
                    \[
                        \id^{-1}_{A}%
                        =%
                        \chi_{A}%
                    \]%
                    for each $A\in\Obj(\Sets)$.
                \item\SloganFont{Preservation of Composition. }We have
                    \[
                        (g\circ f)^{-1}%
                        =%
                        g^{-1}\procirc f^{-1}
                    \]%
                    for pair of functions $f\colon A\to B$ and $g\colon B\to C$.
            \end{itemize}
        \item\label{properties-of-inverses-of-functions-adjointness-inside-sfbfrel}\SloganFont{Adjointness Inside $\sfbfRel$. }We have an adjunction
            \begin{webcompile}
                \RelAdjunctionShortSize#4.0#\Gr(f)#f^{-1}#A#B#
            \end{webcompile}%
            in $\sfbfRel$.
        \item\label{properties-of-inverses-of-functions-interaction-with-inverses-of-relations}\SloganFont{Interaction With Inverses of Relations. }We have
            \begin{align*}
                (f^{-1})^{\dagger} &= \Gr(f),\\
                \Gr(f)^{\dagger}   &= f^{-1}.
            \end{align*}
        %\item\label{properties-of-inverses-of-functions-}\SloganFont{. }
    \end{enumerate}
\end{proposition}
\begin{Proof}{Proof of \cref{properties-of-inverses-of-functions}}%
    \FirstProofBox{\cref{properties-of-inverses-of-functions-functoriality}: Functoriality}%
    Clear.

    \ProofBox{\cref{properties-of-inverses-of-functions-adjointness-inside-sfbfrel}: Adjointness Inside $\sfbfRel$}%
    This is proved in \cref{properties-of-graphs-of-functions-adjointness-inside-sfbfrel} of \cref{properties-of-graphs-of-functions}.

    \ProofBox{\cref{properties-of-inverses-of-functions-interaction-with-inverses-of-relations}: Interaction With Inverses of Relations}%
    Clear.
\end{Proof}
\subsection{Representable Relations}\label{subsection-representable-relations}
Let $A$ and $B$ be sets.
\begin{definition}{Representable Relations}{representable-relations}%
    Let $f\colon A\to B$ and $g\colon B\to A$ be functions.%
    %--- Begin Footnote ---%
    \footnote{%
        More generally, given functions
        \begin{align*}
            f &\colon A \to C,\\
            g &\colon B \to D
        \end{align*}
        and a relation $B\rightproarrow D$, we may consider the composite relation
        \[
            A\times B%
            \xlongrightarrow{f\times g}%
            C\times D%
            \xlongrightarrow{R}%
            \TV,%
        \]%
        for which we have $a\sim_{R\circ(f\times g)}b$ \textiff $f(a)\sim_{R}g(b)$.
        \par\vspace*{-1.75\baselineskip}
    }%
    %---  End Footnote  ---%
    \begin{enumerate}
        \item The \index[set-theory]{relation!representable}\textbf{representable relation associated to $f$} is the relation $\chi_{f}\colon A\rightproarrow B$ defined as the composition%
            \[
                A\times B%
                \xlongrightarrow{f\times\id_{B}}%
                B\times B%
                \xlongrightarrow{\chi_{B}}%
                \TV,%
            \]%
            i.e.\ given by declaring $a\sim_{\chi_{f}}b$ \textiff $f(a)=b$.
        \item The \index[set-theory]{relation!corepresentable}\textbf{corepresentable relation associated to $g$} is the relation $\chi^{g}\colon B\rightproarrow A$ defined as the composition%
            \[
                B\times A%
                \xlongrightarrow{g\times\id_{A}}%
                A\times A%
                \xlongrightarrow{\chi_{A}}%
                \TV,%
            \]%
            i.e.\ given by declaring $b\sim_{\chi^{g}}a$ \textiff $g(b)=a$.
    \end{enumerate}
\end{definition}
\subsection{The Domain and Range of a Relation}\label{subsection-the-domain-and-range-of-a-relation}
Let $A$ and $B$ be sets.
\begin{definition}{The Domain and Range of a Relation}{the-domain-and-range-of-a-relation}%
    Let $R\subset A\times B$ be a relation.%
    %--- Begin Footnote ---%
    \footnote{%
        Following \ChapterRef{\ChapterProfunctors, \cref{profunctors:the-domain-and-range-of-a-profunctor}}{\cref{the-domain-and-range-of-a-profunctor}}, we may compute the (characteristic functions associated to the) domain and range of a relation using the following colimit formulas:
        \begin{align*}
            \chi_{\dom(R)}(a)   &\cong \colim_{b\in B}(R^{b}_{a})\qquad(a\in A)\\
                                &\cong \bigvee_{b\in B}R^{b}_{a},\\
            \chi_{\range(R)}(b) &\cong \colim_{a\in A}(R^{b}_{a})\qquad(b\in B)\\
                                &\cong \bigvee_{a\in A}R^{b}_{a},
        \end{align*}
        where the join $\bigvee$ is taken in the poset $(\TV,\preceq)$ of \ChapterRef{\ChapterConstructionsWithSets, \cref{sets:the-poset-of-truth-values}}{\cref{the-poset-of-truth-values}}.
    }%
    %---  End Footnote  ---%
    %--- Begin Footnote ---%
    \footnote{%
        Viewing $R$ as a function $R\colon A\to\mathcal{P}(B)$, we have
        \begin{align*}
            \dom(R)   &\cong \colim_{y\in Y}(R(y))\\
                      &\cong \bigcup_{y\in Y}R(y),\\
            \range(R) &\cong \colim_{x\in X}(R(x))\\
                      &\cong \bigcup_{x\in X}R(x),
        \end{align*}
        \par\vspace*{-1.75\baselineskip}
    }%
    %---  End Footnote  ---%
    \begin{enumerate}
        \item The \index[set-theory]{relation!domain of}\textbf{domain of $R$} is the subset \index[notation]{domR@$\dom(R)$}$\dom(R)$ of $A$ defined by
            \[
                \dom(R)%
                \defeq%
                \{%
                    a\in A%
                    \ \middle|\ %
                    \begin{aligned}
                        &\text{there exists some $b\in B$}\\%
                        &\text{such that $a\sim_{R}b$}\\%
                    \end{aligned}
                \}.%
            \]%
        \item The \index[set-theory]{relation!range of}\textbf{range of $R$} is the subset \index[notation]{rangeR@$\range(R)$}$\range(R)$ of $B$ defined by
            \[
                \range(R)%
                \defeq%
                \{%
                    b\in B%
                    \ \middle|\ %
                    \begin{aligned}
                        &\text{there exists some $a\in A$}\\%
                        &\text{such that $a\sim_{R}b$}\\%
                    \end{aligned}
                \}.%
            \]%
    \end{enumerate}
\end{definition}
\subsection{Binary Unions of Relations}\label{subsection-binary-unions-of-relations}
Let $A$ and $B$ be sets and let $R$ and $S$ be relations from $A$ to $B$.
\begin{definition}{Binary Unions of Relations}{binary-unions-of-relations}%
    The \index[set-theory]{relation!union of}\textbf{union of $R$ and $S$}%
    %--- Begin Footnote ---%
    \footnote{%
        \SloganFont{Further Terminology: }Also called the \textbf{binary union of $R$ and $S$}, for emphasis.
    } %
    %---  End Footnote  ---%
    is the relation \index[notation]{RunionS@$R\cup S$}$R\cup S$ from $A$ to $B$ defined as follows:%
    \begin{itemize}
        \item Viewing relations from $A$ to $B$ as subsets of $A\times B$, we define%
            %--- Begin Footnote ---%
            \footnote{%
                This is the same as the union of $R$ and $S$ as subsets of $A\times B$.
                \par\vspace*{-1.75\baselineskip}
            }%
            %---  End Footnote  ---%
            \[
                R\cup S%
                \defeq%
                \{%
                    (a,b)\in B\times A%
                    \ \middle|\ %
                    \text{%
                        we have $a\sim_{R}b$ or $a\sim_{S}b$%
                    }%
                \}.%
            \]%
        \item Viewing relations from $A$ to $B$ as functions $A\to\mathcal{P}(B)$, we define
            \[%
                [R\cup S](a)%
                \defeq%
                R(a)\cup S(a)%
            \]%
            for each $a\in A$.
    \end{itemize}
\end{definition}
\begin{proposition}{Properties of Binary Unions of Relations}{properties-of-binary-unions-of-relations}%
    Let $R$, $S$, $R_{1}$, and $R_{2}$ be relations from $A$ to $B$, and let $S_{1}$ and $S_{2}$ be relations from $B$ to $C$.
    \begin{enumerate}
        \item\label{properties-of-binary-unions-of-relations-interaction-with-inverses}\SloganFont{Interaction With Inverses. }We have
            \[
                (R\cup S)^{\dagger}
                =
                R^{\dagger}\cup S^{\dagger}.
            \]%
        \item\label{properties-of-binary-unions-of-relations-interaction-with-composition}\SloganFont{Interaction With Composition. }We have
            \[
                (S_{1}\procirc R_{1})
                \cup
                (S_{2}\procirc R_{2})
                \nneq
                (S_{1}\cup S_{2})
                \procirc
                (R_{1}\cup R_{2}).
            \]%
        %\item\label{properties-of-binary-unions-of-relations-}\SloganFont{. }
    \end{enumerate}
\end{proposition}
\begin{Proof}{Proof of \cref{properties-of-binary-unions-of-relations}}%
    \FirstProofBox{\cref{properties-of-binary-unions-of-relations-interaction-with-inverses}: Interaction With Inverses}%
    Clear.

    \ProofBox{\cref{properties-of-binary-unions-of-relations-interaction-with-composition}: Interaction With Composition}%
    Unwinding the definitions, we see that:
    \begin{enumerate}
        \item The condition for $(S_{1}\procirc R_{1})\cup(S_{2}\procirc R_{2})$ is:
            \begin{enumerate}
                \item There exists some $b\in B$ such that:
                    \begin{enumerate}
                        \item $\color{OIvermillion}{a\sim_{R_{1}}b}$ and $\color{OIblue}{b\sim_{S_{1}}c}$;
                    \end{enumerate}
                    or
                    \begin{enumerate}\setcounter{enumi}{2}
                        \item $\color{OIvermillion}{a\sim_{R_{2}}b}$ and $\color{OIblue}{b\sim_{S_{2}}c}$;
                    \end{enumerate}
            \end{enumerate}
        \item The condition for $(S_{1}\cup S_{2})\procirc(R_{1}\cup R_{2})$ is:
            \begin{enumerate}
                \item There exists some $b\in B$ such that:
                    \begin{enumerate}
                        \item $\color{OIvermillion}{a\sim_{R_{1}}b}$ or $\color{OIvermillion}{a\sim_{R_{2}}b}$;
                    \end{enumerate}
                    and
                    \begin{enumerate}\setcounter{enumi}{2}
                        \item $\color{OIblue}{b\sim_{S_{1}}c}$ or $\color{OIblue}{b\sim_{S_{2}}c}$.
                    \end{enumerate}
            \end{enumerate}
    \end{enumerate}
    These two conditions may fail to agree (counterexample omitted), and thus the two resulting relations on $A\times C$ may differ.
\end{Proof}
\subsection{Unions of Families of Relations}\label{subsection-unions-of-families-of-relations}
Let $A$ and $B$ be sets and let $\{R_{i}\}_{i\in I}$ be a family of relations from $A$ to $B$.
\begin{definition}{The Union of a Family of Relations}{the-union-of-a-family-of-relations}%
    The \index[set-theory]{relation!union of a family of}\textbf{union of the family $\{R_{i}\}_{i\in I}$} is the relation \index[notation]{unioniiniRi@$\bigcup_{i\in I}R_{i}$}$\bigcup_{i\in I}R_{i}$ from $A$ to $B$ defined as follows:%
    \begin{itemize}
        \item Viewing relations from $A$ to $B$ as subsets of $A\times B$, we define%
            %--- Begin Footnote ---%
            \footnote{%
                This is the same as the union of $\{R_{i}\}_{i\in I}$ as a collection of subsets of $A\times B$.
                \par\vspace*{-1.75\baselineskip}
            }%
            %---  End Footnote  ---%
            \[%
                \bigcup_{i\in I}R_{i}
                \defeq%
                \{%
                    (a,b)\in(A\times B)^{\times I}%
                    \ \middle|\ %
                    \begin{aligned}
                        &\text{there exists some $i\in I$}\\
                        &\text{such that $a\sim_{R_{i}}b$}
                    \end{aligned}
                \}.%
            \]%
        \item Viewing relations from $A$ to $B$ as functions $A\to\mathcal{P}(B)$, we define
            \[%
                \left[\bigcup_{i\in I}R_{i}\right](a)%
                \defeq%
                \bigcup_{i\in I}R_{i}(a)%
            \]%
            for each $a\in A$.
    \end{itemize}
\end{definition}
\begin{proposition}{Properties of Unions of Families of Relations}{properties-of-unions-of-families-of-relations}%
    Let $A$ and $B$ be sets and let $\{R_{i}\}_{i\in I}$ be a family of relations from $A$ to $B$.
    \begin{enumerate}
        \item\label{properties-of-unions-of-families-of-relations-interaction-with-inverses}\SloganFont{Interaction With Inverses. }We have
            \[
                (\bigcup_{i\in I}R_{i})^{\dagger}
                =
                \bigcup_{i\in I}R^{\dagger}_{i}.
            \]%
        %\item\label{properties-of-unions-of-families-of-relations-interaction-with-composition}\SloganFont{Interaction With Composition. }We have
        %    \[
        %        \bigcup_{i\in I}(S_{i}\procirc R_{i})
        %        =
        %        (\bigcup_{i\in I}(S_{i})\procirc(\bigcup_{i\in I}(R_{i}).
        %    \]%
        %\item\label{properties-of-unions-of-families-of-relations-interaction-with-intersections}\SloganFont{Interaction With Intersections. }We have
        %    \[
        %        \bigcup_{i\in I}(S_{i}\procirc R_{i})
        %    \]%
        %\item\label{properties-of-unions-of-families-of-relations-}\SloganFont{. }
    \end{enumerate}
\end{proposition}
\begin{Proof}{Proof of \cref{properties-of-unions-of-families-of-relations}}%
    \FirstProofBox{\cref{properties-of-unions-of-families-of-relations-interaction-with-inverses}: Interaction With Inverses}%
    Clear.
\end{Proof}
\subsection{Binary Intersections of Relations}\label{subsection-binary-intersections-of-relations}
Let $A$ and $B$ be sets and let $R$ and $S$ be relations from $A$ to $B$.
\begin{definition}{Binary Intersections of Relations}{binary-intersections-of-relations}%
    The \index[set-theory]{relation!intersection of}\textbf{intersection of $R$ and $S$}%
    %--- Begin Footnote ---%
    \footnote{%
        \SloganFont{Further Terminology: }Also called the \textbf{binary intersection of $R$ and $S$}, for emphasis.
    } %
    %---  End Footnote  ---%
    is the relation \index[notation]{RintersectionS@$R\cap S$}$R\cap S$ from $A$ to $B$ defined as follows:
    \begin{itemize}
        \item Viewing relations from $A$ to $B$ as subsets of $A\times B$, we define%
            %--- Begin Footnote ---%
            \footnote{%
                This is the same as the intersection of $R$ and $S$ as subsets of $A\times B$.
                \par\vspace*{-1.75\baselineskip}
            }%
            %---  End Footnote  ---%
            \[
                R\cap S%
                \defeq%
                \{%
                    (a,b)\in B\times A%
                    \ \middle|\ %
                    \text{%
                        we have $a\sim_{R}b$ and $a\sim_{S}b$%
                    }%
                \}.%
            \]%
        \item Viewing relations from $A$ to $B$ as functions $A\to\mathcal{P}(B)$, we define%
            \[%
                [R\cap S](a)%
                \defeq%
                R(a)\cap S(a)%
            \]%
            for each $a\in A$.
    \end{itemize}
\end{definition}
\begin{proposition}{Properties of Binary Intersections of Relations}{properties-of-binary-intersections-of-relations}%
    Let $R$, $S$, $R_{1}$, and $R_{2}$ be relations from $A$ to $B$, and let $S_{1}$ and $S_{2}$ be relations from $B$ to $C$.
    \begin{enumerate}
        \item\label{properties-of-binary-intersections-of-relations-interaction-with-inverses}\SloganFont{Interaction With Inverses. }We have
            \[
                (R\cap S)^{\dagger}
                =
                R^{\dagger}\cap S^{\dagger}.
            \]%
        \item\label{properties-of-binary-intersections-of-relations-interaction-with-composition}\SloganFont{Interaction With Composition. }We have
            \[
                (S_{1}\procirc R_{1})
                \cap
                (S_{2}\procirc R_{2})
                =
                (S_{1}\cap S_{2})
                \procirc
                (R_{1}\cap R_{2}).
            \]%
        %\item\label{properties-of-binary-intersections-of-relations-}\SloganFont{. }
    \end{enumerate}
\end{proposition}
\begin{Proof}{Proof of \cref{properties-of-binary-intersections-of-relations}}%
    \FirstProofBox{\cref{properties-of-binary-intersections-of-relations-interaction-with-inverses}: Interaction With Inverses}%
    Clear.

    \ProofBox{\cref{properties-of-binary-intersections-of-relations-interaction-with-composition}: Interaction With Composition}%
    Unwinding the definitions, we see that:
    \begin{enumerate}
        \item The condition for $(S_{1}\procirc R_{1})\cap(S_{2}\procirc R_{2})$ is:
            \begin{enumerate}
                \item There exists some $b\in B$ such that:
                    \begin{enumerate}
                        \item $\color{OIvermillion}{a\sim_{R_{1}}b}$ and $\color{OIblue}{b\sim_{S_{1}}c}$;
                    \end{enumerate}
                    and
                    \begin{enumerate}\setcounter{enumi}{2}
                        \item $\color{OIvermillion}{a\sim_{R_{2}}b}$ and $\color{OIblue}{b\sim_{S_{2}}c}$;
                    \end{enumerate}
            \end{enumerate}
        \item The condition for $(S_{1}\cap S_{2})\procirc(R_{1}\cap R_{2})$ is:
            \begin{enumerate}
                \item There exists some $b\in B$ such that:
                    \begin{enumerate}
                        \item $\color{OIvermillion}{a\sim_{R_{1}}b}$ and $\color{OIvermillion}{a\sim_{R_{2}}b}$;
                    \end{enumerate}
                    and
                    \begin{enumerate}\setcounter{enumi}{2}
                        \item $\color{OIblue}{b\sim_{S_{1}}c}$ and $\color{OIblue}{b\sim_{S_{2}}c}$.
                    \end{enumerate}
            \end{enumerate}
    \end{enumerate}
    These two conditions agree, and thus so do the two resulting relations on $A\times C$.
\end{Proof}
\subsection{Intersections of Families of Relations}\label{subsection-intersections-of-families-of-relations}
Let $A$ and $B$ be sets and let $\{R_{i}\}_{i\in I}$ be a family of relations from $A$ to $B$.
\begin{definition}{The Intersection of a Family of Relations}{the-intersection-of-a-family-of-relations}%
    The \index[set-theory]{relation!intersection of a family of}\textbf{intersection of the family $\{R_{i}\}_{i\in I}$} is the relation \index[notation]{intersectioniiniRi@$\bigcup_{i\in I}R_{i}$}$\smash{\bigcup_{i\in I}R_{i}}$ defined as follows:
    \begin{itemize}
        \item Viewing relations from $A$ to $B$ as subsets of $A\times B$, we define%
            %--- Begin Footnote ---%
            \footnote{%
                This is the same as the intersection of $\{R_{i}\}_{i\in I}$ as a collection of subsets of $A\times B$.
                \par\vspace*{-1.75\baselineskip}
            }%
            %---  End Footnote  ---%
            \[%
                \bigcup_{i\in I}R_{i}%
                \defeq%
                \{%
                    (a,b)\in(A\times B)^{\times I}%
                    \ \middle|\ %
                    \begin{aligned}
                        &\text{for each $i\in I$,}\\%
                        &\text{we have $a\sim_{R_{i}}b$}%
                    \end{aligned}
                \}.%
            \]%
        \item Viewing relations from $A$ to $B$ as functions $A\to\mathcal{P}(B)$, we define%
            \[%
                \left[\bigcap_{i\in I}R_{i}\right](a)%
                \defeq%
                \bigcap_{i\in I}R_{i}(a)%
            \]%
            for each $a\in A$.
    \end{itemize}
\end{definition}
\begin{proposition}{Properties of Intersections of Families of Relations}{properties-of-intersections-of-families-of-relations}%
    Let $A$ and $B$ be sets and let $\{R_{i}\}_{i\in I}$ be a family of relations from $A$ to $B$.
    \begin{enumerate}
        \item\label{properties-of-intersections-of-families-of-relations-interaction-with-inverses}\SloganFont{Interaction With Inverses. }We have
            \[
                (\bigcap_{i\in I}R_{i})^{\dagger}
                =
                \bigcap_{i\in I}R^{\dagger}_{i}.
            \]%
        %\item\label{properties-of-intersections-of-families-of-relations-}\SloganFont{. }
    \end{enumerate}
\end{proposition}
\begin{Proof}{Proof of \cref{properties-of-intersections-of-families-of-relations}}%
    \FirstProofBox{\cref{properties-of-intersections-of-families-of-relations-interaction-with-inverses}: Interaction With Inverses}%
    Clear.
\end{Proof}
\subsection{Binary Products of Relations}\label{subsection-binary-products-of-relations}
Let $A$, $B$, $X$, and $Y$ be sets, let $R\colon A\rightproarrow B$ be a relation from $A$ to $B$, and let $S\colon X\rightproarrow Y$ be a relation from $X$ to $Y$.
\begin{definition}{Binary Products of Relations}{binary-products-of-relations}%
    The \index[set-theory]{relation!product of}\textbf{product of $R$ and $S$}%
    %--- Begin Footnote ---%
    \footnote{%
        \SloganFont{Further Terminology: }Also called the \textbf{binary product of $R$ and $S$}, for emphasis.
        \par\vspace*{-1.75\baselineskip}
    } %
    %---  End Footnote  ---%
    is the relation \index[notation]{RtimesS@$R\times S$}$R\times S$ from $A\times X$ to $B\times Y$ defined as follows:
    \begin{itemize}
        \item Viewing relations from $A\times X$ to $B\times Y$ as subsets of $(A\times X)\times(B\times Y)$, we define $R\times S$ as the Cartesian product of $R$ and $S$ as subsets of $A\times X$ and $B\times Y$.%
            %--- Begin Footnote ---%
            \footnote{%
                That is, $R\times S$ is the relation given by declaring $(a,x)\sim_{R\times S}(b,y)$ \textiff $a\sim_{R}b$ and $x\sim_{S}y$.
                \par\vspace*{-1.75\baselineskip}
            }%
            %---  End Footnote  ---%
        \item Viewing relations from $A\times X$ to $B\times Y$ as functions $A\times X\to\mathcal{P}(B\times Y)$, we define $R\times S$ as the composition
            \[
                A\times X
                \xlongrightarrow{R\times S}
                \mathcal{P}(B)\times\mathcal{P}(Y)
                \xlonghookrightarrow{\mathcal{P}^{\otimes}_{B,Y}}
                \mathcal{P}(B\times Y)
            \]%
            in $\Sets$, i.e.\ by
            \[
                [R\times S](a,x)
                \defeq
                R(a)\times S(x)
            \]%
            for each $(a,x)\in A\times X$.
    \end{itemize}
\end{definition}
\begin{proposition}{Properties of Binary Products of Relations}{properties-of-binary-products-of-relations}%
    Let $A$, $B$, $X$, and $Y$ be sets.
    \begin{enumerate}
        \item\label{properties-of-binary-products-of-relations-interaction-with-inverses}\SloganFont{Interaction With Inverses. }Let
            \begin{align*}
                R &\colon A\rightproarrow A,\\
                S &\colon X\rightproarrow X
            \end{align*}
            We have
            \[
                (R\times S)^{\dagger}
                =
                R^{\dagger}\times S^{\dagger}.
            \]%
        \item\label{properties-of-binary-products-of-relations-interaction-with-composition}\SloganFont{Interaction With Composition. }Let
            \begin{align*}
                R_{1} &\colon A\rightproarrow B,\\
                S_{1} &\colon B\rightproarrow C,\\
                R_{2} &\colon X\rightproarrow Y,\\
                S_{2} &\colon Y\rightproarrow Z
            \end{align*}
            be relations. We have
            \[
                (S_{1}\procirc R_{1})\times(S_{2}\procirc R_{2})%
                =%
                (S_{1}\times S_{2})\procirc(R_{1}\times R_{2}).%
            \]%
        %\item\label{properties-of-binary-products-of-relations-}\SloganFont{. }
    \end{enumerate}
\end{proposition}
\begin{Proof}{Proof of \cref{properties-of-binary-products-of-relations}}%
    \FirstProofBox{\cref{properties-of-binary-products-of-relations-interaction-with-inverses}: Interaction With Inverses}%
    Unwinding the definitions, we see that:
    \begin{enumerate}
        \item We have $(a,x)\sim_{(R\times S)^{\dagger}}(b,y)$ \textiff:
            \begin{itemize}
                \item We have $(b,y)\sim_{R\times S}(a,x)$, i.e.\ \textiff:
                    \begin{itemize}
                        \item We have $b\sim_{R}a$;
                        \item We have $y\sim_{S}x$;
                    \end{itemize}
            \end{itemize}
        \item We have $(a,x)\sim_{R^{\dagger}\times S^{\dagger}}(b,y)$ \textiff:
            \begin{itemize}
                \item We have $a\sim_{R^{\dagger}}b$ and $x\sim_{S^{\dagger}}y$, i.e.\ \textiff:
                    \begin{itemize}
                        \item We have $b\sim_{R}a$;
                        \item We have $y\sim_{S}x$.
                    \end{itemize}
            \end{itemize}
    \end{enumerate}
    These two conditions agree, and thus the two resulting relations on $A\times X$ are equal.

    \ProofBox{\cref{properties-of-binary-products-of-relations-interaction-with-composition}: Interaction With Composition}%
    Unwinding the definitions, we see that:
    \begin{enumerate}
        \item We have $(a,x)\sim_{(S_{1}\procirc R_{1})\times(S_{2}\procirc R_{2})}(c,z)$ \textiff:
            \begin{enumerate}
                \item We have $a\sim_{S_{1}\procirc R_{1}}c$ and $x\sim_{S_{2}\procirc R_{2}}z$, i.e.\ \textiff:
                    \begin{enumerate}
                        \item There exists some $b\in B$ such that $a\sim_{R_{1}}b$ and $b\sim_{S_{1}}c$;
                        \item There exists some $y\in Y$ such that $x\sim_{R_{2}}y$ and $y\sim_{S_{2}}z$;
                    \end{enumerate}
            \end{enumerate}
        \item We have $(a,x)\sim_{(S_{1}\times S_{2})\procirc(R_{1}\times R_{2})}(c,z)$ \textiff:
            \begin{enumerate}
                \item There exists some $(b,y)\in B\times Y$ such that $(a,x)\sim_{R_{1}\times R_{2}}(b,y)$ and $(b,y)\sim_{S_{1}\times S_{2}}(c,z)$, i.e.\ such that:
                    \begin{enumerate}
                        \item We have $a\sim_{R_{1}}b$ and $x\sim_{R_{2}}y$;
                        \item We have $b\sim_{S_{1}}c$ and $y\sim_{S_{2}}z$.
                    \end{enumerate}
            \end{enumerate}
    \end{enumerate}
    These two conditions agree, and thus the two resulting relations from $A\times X$ to $C\times Z$ are equal.
\end{Proof}
\subsection{Products of Families of Relations}\label{subsection-products-of-families-of-relations}
Let $\{A_{i}\}_{i\in I}$ and $\{B_{i}\}_{i\in I}$ be families of sets, and let $\{R_{i}\colon A_{i}\rightproarrow B_{i}\}_{i\in I}$ be a family of relations.
\begin{definition}{The Product of a Family of Relations}{the-product-of-a-family-of-relations}%
    The \index[set-theory]{relation!product of a family of}\textbf{product of the family $\{R_{i}\}_{i\in I}$} is the relation \index[notation]{timesiiniRi@$\prod_{i\in I}R_{i}$}$\smash{\prod_{i\in I}R_{i}}$ from $\smash{\prod_{i\in I}A_{i}}$ to $\smash{\prod_{i\in I}B_{i}}$ defined as follows:
    \begin{itemize}
        \item Viewing relations as subsets, we define $\smash{\prod_{i\in I}R_{i}}$ as its product as a family of sets, i.e.\ we have
            \[%
                \prod_{i\in I}R_{i}
                \defeq%
                \{%
                    (a_{i},b_{i})_{i\in I}\in\prod_{i\in I}(A_{i}\times B_{i})%
                    \ \middle|\ %
                    \begin{aligned}
                        &\text{for each $i\in I$,}\\%
                        &\text{we have $a_{i}\sim_{R_{i}}b_{i}$}%
                    \end{aligned}
                \}.%
            \]%
        \item Viewing relations as functions to powersets, we define
            \[%
                \left[\prod_{i\in I}R_{i}\right]((a_{i})_{i\in I})
                \defeq%
                \prod_{i\in I}R_{i}(a_{i})
            \]%
            for each $(a_{i})_{i\in I}\in\prod_{i\in I}R_{i}$.
    \end{itemize}
\end{definition}
\subsection{The Inverse of a Relation}\label{subsection-the-inverse-of-a-relation}
Let $A$, $B$, and $C$ be sets and let $R\subset A\times B$ be a relation.
\begin{definition}{The Inverse of a Relation}{the-inverse-of-a-relation}%
    The \index[set-theory]{relation!inverse of}\textbf{inverse of $R$}%
    %--- Begin Footnote ---%
    \footnote{%
        \SloganFont{Further Terminology: }Also called the \textbf{opposite of $R$}, the \textbf{transpose of $R$}, or the \textbf{converse of $R$}.
        \par\vspace*{-1.75\baselineskip}
    } %
    %---  End Footnote  ---%
    is the relation \index[notation]{Rdagger@$R^{\dagger}$}$\smash{R^{\dagger}}$ defined as follows:
    \begin{itemize}
        \item Viewing relations as subsets, we define
            \[
                R^{\dagger}
                \defeq
                \{%
                    (b,a)\in B\times A%
                    \ \middle|\ %
                    \text{we have $b\sim_{R}a$}%
                \}.%
            \]%
        \item Viewing relations as functions $A\times B\to\TV$, we define
            \[%
                {[R^{\dagger}]}{}^{a}_{b}
                \defeq%
                R^{b}_{a}
            \]%
            for each $(b,a)\in B\times A$.
        \item Viewing relations as functions $A\to\mathcal{P}(B)$, we define
            \begin{align*}
                [R^{\dagger}](b) &\defeq R^{\dagger}(\{b\})\\
                                 &\defeq \{a\in A\ \middle|\ b\in R(a)\}
            \end{align*}
            for each $b\in B$, where $R^{\dagger}(\{b\})$ is the fibre of $R$ over $\{b\}$.
    \end{itemize}
\end{definition}
\begin{example}{Examples of Inverses of Relations}{examples-of-inverses-of-relations}%
    Here are some examples of inverses of relations.
    \begin{enumerate}
        \item\label{examples-of-inverses-of-relations-less-than-equal-signs}\SloganFont{Less Than Equal Signs. }We have $(\mathord{\leq})^{\dagger}=\mathord{\geq}$.
        \item\label{examples-of-inverses-of-relations-greater-than-equal-signs}\SloganFont{Greater Than Equal Signs. }Dually to \cref{examples-of-inverses-of-relations-less-than-equal-signs}, we have $(\mathord{\geq})^{\dagger}=\mathord{\leq}$.
        \item\label{examples-of-inverses-of-relations-functions}\SloganFont{Functions. }Let $f\colon A\to B$ be a function. We have
            \begin{align*}
                \Gr(f)^{\dagger}   &= f^{-1},\\
                (f^{-1})^{\dagger} &= \Gr(f).
            \end{align*}
    \end{enumerate}
\end{example}
\begin{proposition}{Properties of Inverses of Relations}{properties-of-inverses-of-relations}%
    Let $R\colon A\rightproarrow B$ and $S\colon B\rightproarrow C$ be relations.
    \begin{enumerate}
        \item\label{properties-of-inverses-of-relations-functoriality}\SloganFont{Functoriality. }The assignment $R\mapsto R^{\dagger}$ defines a functor (i.e.\ morphism of posets)
            \[
                (-)^{\dagger}%
                \colon%
                \eRel(A,B)%
                \to%
                \eRel(B,A).%
            \]%
            In particular, given relations $R,S\colon A\rightproarrows B$, we have:
            \begin{itemize}
                \item[$(\star)$]If $R\subset S$, then $R^{\dagger}\subset S^{\dagger}$.
            \end{itemize}
        \item\label{properties-of-inverses-of-relations-interaction-with-ranges-and-domains}\SloganFont{Interaction With Ranges and Domains. }We have
            \begin{align*}
                \dom(R^{\dagger})   &= \range(R),\\
                \range(R^{\dagger}) &= \dom(R).
            \end{align*}
        \item\label{properties-of-inverses-of-relations-interaction-with-composition-1}\SloganFont{Interaction With Composition \rmI. }We have
            \[
                (S\procirc R)^{\dagger}
                =
                R^{\dagger}\procirc S^{\dagger}.
            \]%
        \item\label{properties-of-inverses-of-relations-interaction-with-composition-2}\SloganFont{Interaction With Composition \rmII. }We have
            \begin{align*}
                \chi_{B} &\subset R\procirc R^{\dagger},\\
                \chi_{A} &\subset R^{\dagger}\procirc R.
            \end{align*}
        \item\label{properties-of-inverses-of-relations-invertibility}\SloganFont{Invertibility. }We have
            \[
                (R^{\dagger})^{\dagger}
                =
                R.
            \]%
        \item\label{properties-of-inverses-of-relations-identity}\SloganFont{Identity. }We have
            \[
                \chi^{\dagger}_{A}
                =
                \chi_{A}.
            \]%
        %\item\label{properties-of-inverses-of-relations-}\SloganFont{. }
    \end{enumerate}
\end{proposition}
\begin{Proof}{Proof of \cref{properties-of-inverses-of-relations}}%
    \FirstProofBox{\cref{properties-of-inverses-of-relations-functoriality}: Functoriality}%
    Clear.

    \ProofBox{\cref{properties-of-inverses-of-relations-interaction-with-ranges-and-domains}: Interaction With Ranges and Domains}%
    Clear.

    \ProofBox{\cref{properties-of-inverses-of-relations-interaction-with-composition-1}: Interaction With Composition \rmI}%
    Clear.

    \ProofBox{\cref{properties-of-inverses-of-relations-interaction-with-composition-2}: Interaction With Composition \rmII}%
    Clear.

    \ProofBox{\cref{properties-of-inverses-of-relations-invertibility}: Invertibility}%
    Clear.

    \ProofBox{\cref{properties-of-inverses-of-relations-identity}: Identity}%
    Clear.
\end{Proof}
\subsection{Composition of Relations}\label{subsection-composition-of-relations}
Let $A$, $B$, and $C$ be sets and let $R\colon A\rightproarrow B$ and $S\colon B\rightproarrow C$ be relations.
\begin{definition}{Composition of Relations}{composition-of-relations}%
    The \index[set-theory]{relation!composition of}\textbf{composition of $R$ and $S$} is the relation \index[notation]{SafterR@$S\procirc R$}$S\procirc R$ defined as follows:%
    \begin{itemize}
        \item Viewing relations from $A$ to $C$ as subsets of $A\times C$, we define
            \[
                S\procirc R
                \defeq
                \{%
                    (a,c)\in A\times C%
                    \ \middle|\ %
                    \begin{aligned}
                        &\text{there exists some $b\in B$ such}\\
                        &\text{that $a\sim_{R}b$ and $b\sim_{S}c$}%
                    \end{aligned}
                \}.%
            \]%
        \item Viewing relations as functions $A\times B\to\TV$, we define
            \begin{align*}
                (S\procirc R)^{-_{1}}_{-_{2}} &\defeq \int^{b\in B}S^{-_{1}}_{b}\times R^{b}_{-_{2}}\\%
                                              &=      \bigvee_{b\in B}S^{-_{1}}_{b}\times R^{b}_{-_{2}},%
            \end{align*}
            where the join $\bigvee$ is taken in the poset $(\TV,\preceq)$ of \ChapterRef{\ChapterSets, \cref{sets:the-poset-of-truth-values}}{\cref{the-poset-of-truth-values}}.
        \item Viewing relations as functions $A\to\mathcal{P}(B)$, we define
            \begin{webcompile}
                S\procirc R%
                \defeq%
                \Lan_{\chi_{B}}(S)\circ R,%
                \quad%
                \begin{tikzcd}[row sep={5.0*\the\DL,between origins}, column sep={5.0*\the\DL,between origins}, background color=backgroundColor, ampersand replacement=\&]
                    \&%
                    B%
                    \arrow[r, "S",""{name=S,pos=0.7}]%
                    \arrow[d, "\chi_{B}"', hook]%
                    \&%
                    \mathcal{P}(C)\mrp{,}%
                    \\%
                    A%
                    \arrow[r, "R"']%
                    \&%
                    \mathcal{P}(B)%
                    \arrow[ru, "\Lan_{\chi_{B}}(S)"', bend right=10]%
                    \&
                    % 2-Arrows
                    \arrow[from=S,to=2-2,shorten=0.75*\the\DL,Rightarrow]%
                \end{tikzcd}%
            \end{webcompile}
            where $\Lan_{\chi_{B}}(S)$ is computed by the formula
            \begin{align*}
                [\Lan_{\chi_{B}}(S)](V) &\cong \int^{y\in B}\chi_{\mathcal{P}(B)}(\chi_{y},V)\odot S_{y}\\
                                                   &\cong \int^{y\in B}\chi_{V}(y)\odot S_{y}\\%\pptag{\cref{the-yoneda-lemma-for-sets}}\\
                                                   &\cong \bigcup_{y\in B}\chi_{V}(y)\odot S_{y}\\
                                                   &\cong \bigcup_{y\in V}S_{y}
            \end{align*}
            for each $V\in\mathcal{P}(B)$. In other words, $S\procirc R$ is defined by%
            %--- Begin Footnote ---%
            \footnote{%
                That is: the relation $R$ may send $a\in A$ to a number of elements $\{b_{i}\}_{i\in I}$ in $B$, and then the relation $S$ may send the image of each of the $b_{i}$'s to a number of elements $\{S(b_{i})\}_{i\in I}=\{\{c_{j_{i}}\}_{j_{i}\in J_{i}}\}_{i\in I}$ in $C$.
                \par\vspace*{-1.5\baselineskip}
            }%
            %---  End Footnote  ---%
            \begin{align*}
                [S\procirc R](a) &\defeq S(R(a))\\
                                 &\defeq \bigcup_{x\in R(a)}S(x).
            \end{align*}
            for each $a\in A$.
    \end{itemize}
\end{definition}
\begin{example}{Examples of Composition of Relations}{examples-of-composition-of-relations}%
    Here are some examples of composition of relations.
    \begin{enumerate}
        \item\SloganFont{Composing Less/Greater Than Equal With Greater/Less Than Equal Signs. }We have
            \begin{align*}
                \mathord{\leq}\procirc\mathord{\geq} &= \sim_{\triv},\\
                \mathord{\geq}\procirc\mathord{\leq} &= \sim_{\triv}.
            \end{align*}
        \item\SloganFont{Composing Less/Greater Than Equal Signs With Less/Greater Than Equal Signs. }We have
            \begin{align*}
                \mathord{\leq}\procirc\mathord{\leq} &= \mathord{\leq},\\
                \mathord{\geq}\procirc\mathord{\geq} &= \mathord{\geq}.
            \end{align*}
    \end{enumerate}
\end{example}
\begin{proposition}{Properties of Composition of Relations}{properties-of-composition-of-relations}%
    Let $R\colon A\rightproarrow B$, $S\colon B\rightproarrow C$, and $T\colon C\rightproarrow D$ be relations.
    \begin{enumerate}
        \item\label{properties-of-composition-of-relations-interaction-with-ranges-and-domains}\SloganFont{Interaction With Ranges and Domains. }We have
            \begin{align*}
                \dom(S\procirc R)   &\subset \dom(R),\\
                \range(S\procirc R) &\subset \range(S).
            \end{align*}
        \item\label{properties-of-composition-of-relations-associativity}\SloganFont{Associativity. }We have
            \[
                (T\procirc S)\procirc R
                =
                T\procirc(S\procirc R).
            \]%
        \item\label{properties-of-composition-of-relations-unitality}\SloganFont{Unitality. }We have
            \begin{align*}
                \chi_{B}\procirc R &= R,\\
                R\procirc\chi_{A}  &= R.
            \end{align*}
        \item\label{properties-of-composition-of-relations-interaction-with-inverses}\SloganFont{Interaction With Inverses. }We have
            \[
                (S\procirc R)^{\dagger}
                =
                R^{\dagger}\procirc S^{\dagger}.
            \]%
        \item\label{properties-of-composition-of-relations-interaction-with-composition}\SloganFont{Interaction With Composition. }We have
            \begin{align*}
                \chi_{B} &\subset R\procirc R^{\dagger},\\
                \chi_{A} &\subset R^{\dagger}\procirc R.
            \end{align*}
        %\item\label{properties-of-composition-of-relations-}\SloganFont{. }
    \end{enumerate}
\end{proposition}
\begin{Proof}{Proof of \cref{properties-of-composition-of-relations}}%
    \FirstProofBox{\cref{properties-of-composition-of-relations-interaction-with-ranges-and-domains}: Interaction With Ranges and Domains}%
    Clear.

    \ProofBox{\cref{properties-of-composition-of-relations-associativity}: Associativity}%
    Indeed, we have
    \begin{align*}
        (T\procirc S)\procirc R &\defeq (\int^{c\in C}T^{-_{1}}_{c}\times S^{c}_{-_{2}})\procirc R\\
                                &\defeq \int^{b\in B}(\int^{c\in C}T^{-_{1}}_{c}\times S^{c}_{b})\procirc R^{b}_{-_{2}}\\
                                &=      \int^{b\in B}\int^{c\in C}(T^{-_{1}}_{c}\times S^{c}_{b})\procirc R^{b}_{-_{2}}\\
                                &=      \int^{c\in C}\int^{b\in B}(T^{-_{1}}_{c}\times S^{c}_{b})\procirc R^{b}_{-_{2}}\\
                                &=      \int^{c\in C}\int^{b\in B}T^{-_{1}}_{c}\times(S^{c}_{b}\procirc R^{b}_{-_{2}})\\
                                &=      \int^{c\in C}T^{-_{1}}_{c}\times(\int^{b\in B}S^{c}_{b}\procirc R^{b}_{-_{2}})\\
                                &\defeq \int^{c\in C}T^{-_{1}}_{c}\times(S\procirc R)^{c}_{-_{2}}\\
                                &\defeq T\procirc(S\procirc R).
    \end{align*}
    In the language of relations, given $a\in A$ and $d\in D$, the stated equality witnesses the equivalence of the following two statements:
    \begin{enumerate}
        \item We have $a\sim_{(T\procirc S)\procirc R}d$, i.e.\ there exists some $b\in B$ such that:
            \begin{enumerate}
                \item We have $a\sim_{R}b$;
                \item We have $b\sim_{T\procirc S}d$, i.e.\ there exists some $c\in C$ such that:
                    \begin{enumerate}
                        \item We have $b\sim_{S}c$;
                        \item We have $c\sim_{T}d$;
                    \end{enumerate}
            \end{enumerate}
        \item We have $a\sim_{T\procirc(S\procirc R)}d$, i.e.\ there exists some $c\in C$ such that:
            \begin{enumerate}
                \item We have $a\sim_{S\procirc R}c$, i.e.\ there exists some $b\in B$ such that:
                    \begin{enumerate}
                        \item We have $a\sim_{R}b$;
                        \item We have $b\sim_{S}c$;
                    \end{enumerate}
                \item We have $c\sim_{T}d$;
            \end{enumerate}
    \end{enumerate}
    both of which are equivalent to the statement
    \begin{itemize}
        \item There exist $b\in B$ and $c\in C$ such that $a\sim_{R}b\sim_{S}c\sim_{T}d$.
    \end{itemize}

    \ProofBox{\cref{properties-of-composition-of-relations-unitality}: Unitality}%
    Indeed, we have
    \begin{align*}
        \chi_{B}\procirc R &\defeq \int^{x\in B}(\chi_{B})^{-_{1}}_{x}\times R^{x}_{-_{2}}\\
                           &=      \bigvee_{x\in B}(\chi_{B})^{-_{1}}_{x}\times R^{x}_{-_{2}}\\
                           &=      \bigvee_{\substack{x\in B\\x=-_{1}}}R^{x}_{-_{2}}\\
                           &=      R^{-_{1}}_{-_{2}},
    \end{align*}
    and
    \begin{align*}
        R\procirc\chi_{A} &\defeq \int^{x\in A}R^{-_{1}}_{x}\times(\chi_{A})^{x}_{-_{2}}\\
                          &=      \bigvee_{x\in B}R^{-_{1}}_{x}\times(\chi_{A})^{x}_{-_{2}}\\
                          &=      \bigvee_{\substack{x\in B\\x=-_{2}}}R^{-_{1}}_{x}\\
                          &=      R^{-_{1}}_{-_{2}}.
    \end{align*}
    In the language of relations, given $a\in A$ and $b\in B$:
    \begin{itemize}
        \item The equality
            \[
                \chi_{B}\procirc R%
                =%
                R%
            \]%
            witnesses the equivalence of the following two statements:
            \begin{enumerate}
                \item We have $a\sim_{b}B$.
                \item There exists some $b'\in B$ such that:
                    \begin{enumerate}
                        \item We have $a\sim_{R}b'$
                        \item We have $b'\sim_{\chi_{B}}b$, i.e.\ $b'=b$.
                    \end{enumerate}
            \end{enumerate}
        \item The equality
            \[
                R\procirc\chi_{A}%
                =%
                R%
            \]%
            witnesses the equivalence of the following two statements:
            \begin{enumerate}
                \item There exists some $a'\in A$ such that:
                    \begin{enumerate}
                        \item We have $a\sim_{\chi_{B}}a'$, i.e.\ $a=a'$.
                        \item We have $a'\sim_{R}b$
                    \end{enumerate}
                \item We have $a\sim_{b}B$.
            \end{enumerate}
    \end{itemize}

    \ProofBox{\cref{properties-of-composition-of-relations-interaction-with-inverses}: Interaction With Inverses}%
    Clear.

    \ProofBox{\cref{properties-of-composition-of-relations-interaction-with-composition}: Interaction With Composition}%
    Clear.
\end{Proof}
\subsection{The Collage of a Relation}\label{subsection-the-collage-of-a-relation}
Let $A$ and $B$ be sets and let $R\colon A\rightproarrow B$ be a relation from $A$ to $B$.
\begin{definition}{The Collage of a Relation}{the-collage-of-a-relation}%
    The \index[set-theory]{relation!collage of}\textbf{collage of $R$}%
    %--- Begin Footnote ---%
    \footnote{%
        \SloganFont{Further Terminology: }Also called the \textbf{cograph of $R$}.
        \par\vspace*{-1.75\baselineskip}
    } %
    %---  End Footnote  ---%
    is the poset \index[notation]{CollR@$\eColl(R)$}$\smash{\eColl(R)\defeq(\rmColl(R),\preceq_{\eColl(R)})}$ consisting of:
    \begin{itemize}
        \item\SloganFont{The Underlying Set. }The set \index[notation]{CollR@$\rmColl(R)$}$\rmColl(R)$ defined by%
            \[%
                \rmColl(R)%
                \defeq%
                A\icoprod B.%
            \]%
        \item\SloganFont{The Partial Order. }The partial order
            \[
                \preceq_{\eColl(R)}%
                \colon
                \rmColl(R)\times\rmColl(R)%
                \to%
                \TV%
            \]%
            on $\rmColl(R)$ defined by
            \[
                \mathord{\preceq}(a,b)%
                \defeq%
                \begin{cases}
                    \true  &\text{if $a=b$ or $a\sim_{R}b$,}\\%
                    \false &\text{otherwise.}%
                \end{cases}
            \]%
    \end{itemize}
\end{definition}
\begin{proposition}{Properties of Collages of Relations}{properties-of-collages-of-relations}%
    Let $A$ and $B$ be sets and let $R\colon A\rightproarrow B$ be a relation from $A$ to $B$.
    \begin{enumerate}
        \item\label{properties-of-collages-of-relations-functoriality}\SloganFont{Functoriality \rmI. }The assignment $R\mapsto\eColl(R)$ defines a functor%
            %--- Begin Footnote ---%
            \footnote{%
                Here $\Pos_{/\Delta^{1}}(A,B)$ is the category defined as the pullback
                \[
                    \Pos_{/\Delta^{1}}(A,B)%
                    \defeq%
                    \PunctualCategory\ttimes_{[A],\Pos,\fib_{0}}\Pos_{/\Delta^{1}}\ttimes_{\fib_{1},\Pos,[B]}\PunctualCategory,%
                \]%
                as in the diagram
                \begingroup\footnotesize
                \[%
                    \begin{tikzcd}[row sep={4.0*\the\DL,between origins}, column sep={4.0*\the\DL,between origins}, background color=backgroundColor, ampersand replacement=\&]
                        \&
                        \&
                        \ePos_{/\Delta^{1}}(A,B)
                        \&
                        \&
                        \\
                        \&
                        \displaystyle\ePos_{/\Delta^{1}}\ttimes_{\ePos}\PunctualCategory
                        \&
                        \&
                        \displaystyle\PunctualCategory\ttimes_{\ePos}\ePos_{/\Delta^{1}}
                        \&
                        \\
                        \PunctualCategory
                        \&
                        \&
                        \ePos_{/\Delta^{1}}
                        \&
                        \&
                        \PunctualCategory\mrp{.}
                        \\
                        \&
                        \ePos
                        \&
                        \&
                        \ePos
                        \&
                        % 1-Arrows
                        % Row 1 to Row 2
                        \arrow[from=1-3,to=2-2]%
                        \arrow[from=1-3,to=2-4]%
                        % Row 2 to Row 3
                        \arrow[from=2-2,to=3-1]%
                        \arrow[from=2-2,to=3-3]%
                        \arrow[from=2-4,to=3-3]%
                        \arrow[from=2-4,to=3-5]%
                        % Row 3 to Row 4
                        \arrow[from=3-1,to=4-2,"{[A]}"']%
                        \arrow[from=3-3,to=4-2,"\fib_{[0]}"]%
                        \arrow[from=3-3,to=4-4,"\fib_{[1]}"']%
                        \arrow[from=3-5,to=4-4,"{[B]}"]%
                        % Pullback Symbols
                        \arrow[from=2-2,to=4-2,very near start,phantom,"\lrcorner"{rotate=-45}]
                        \arrow[from=1-3,to=3-3,very near start,phantom,"\lrcorner"{rotate=-45}]
                        \arrow[from=2-4,to=4-4,very near start,phantom,"\lrcorner"{rotate=-45}]
                    \end{tikzcd}
                \]%
                \endgroup
                Explicitly, an object of $\Pos_{/\Delta^{1}}(A,B)$ is a pair $(X,\phi_{X})$ consisting of
                \begin{itemize}
                    \item A poset $X$;
                    \item A morphism $\phi_{X}\colon X\to\Delta^{1}$;
                \end{itemize}
                such that $\phi^{-1}_{X}(0)=A$ and $\phi^{-1}_{X}(0)=B$, with morphisms between such objects being morphisms of posets over $\Delta^{1}$.
            }%
            %---  End Footnote  ---%
            \[
                \eColl%
                \colon%
                \eRel(A,B)%
                \to%
                \Pos_{/\Delta^{1}}(A,B),%
            \]%
            where
            \begin{itemize}
                \item\SloganFont{Action on Objects. }For each $R\in\Obj(\eRel(A,B))$, we have
                    \[
                        [\eColl](R)
                        \defeq
                        (\eColl(R),\phi_{R})%
                    \]%
                    for each $R\in\eRel(A,B)$, where
                    \begin{itemize}
                        \item The poset $\eColl(R)$ is the collage of $R$ of \cref{the-collage-of-a-relation}.
                        \item The morphism $\phi_{R}\colon\eColl(R)\to\Delta^{1}$ is given by
                            \[
                                \phi_{R}(x)%
                                \defeq
                                \begin{cases}
                                    0 &\text{if $x\in A$,}\\
                                    1 &\text{if $x\in B$}
                                \end{cases}
                            \]%
                            for each $x\in\eColl(R)$.
                    \end{itemize}
                \item\SloganFont{Action on Morphisms. }For each $R,S\in\Obj(\eRel(A,B))$, the action on $\Hom$-sets
                    \[
                        \eColl_{R,S}%
                        \colon%
                        \Hom_{\eRel(A,B)}(R,S)
                        \to
                        \Pos(\eColl(R),\eColl(S))
                    \]%
                    of $\eColl$ at $(R,S)$ is given by sending an inclusion
                    \[
                        \iota%
                        \colon%
                        R%
                        \subset%
                        S%
                    \]%
                    to the morphism
                    \[
                        \eColl(\iota)%
                        \colon%
                        \eColl(R)%
                        \to%
                        \eColl(S)%
                    \]%
                    of posets over $\Delta^{1}$ defined by
                    \[
                        [\eColl(\iota)](x)%
                        \defeq%
                        x%
                    \]%
                    for each $x\in\eColl(R)$.%
                    %--- Begin Footnote ---%
                    \footnote{%
                        Note that this is indeed a morphism of posets: if $x\preceq_{\eColl(R)}y$, then $x=y$ or $x\sim_{R}y$, so we have either $x=y$ or $x\sim_{S}y$ (as $R\subset S$), and thus $x\preceq_{\eColl(S)}y$.
                        \par\vspace*{-1.75\baselineskip}
                    }%
                    %---  End Footnote  ---%
            \end{itemize}
        \item\label{properties-of-collages-of-relations-equivalence}\SloganFont{Equivalence. }The functor of \cref{properties-of-collages-of-relations-functoriality} is an equivalence of categories.
        %\item\label{properties-of-collages-of-relations-}\SloganFont{. }
    \end{enumerate}
\end{proposition}
\begin{Proof}{Proof of \cref{properties-of-collages-of-relations}}%
    \FirstProofBox{\cref{properties-of-collages-of-relations-functoriality}: Functoriality}%
    Clear.

    \ProofBox{\cref{properties-of-collages-of-relations-equivalence}: Equivalence}%
    Omitted.
\end{Proof}
\section{Functoriality of Powersets}\label{section-functoriality-of-powersets}
\subsection{Direct Images}\label{subsection-direct-images-relations}
Let $A$ and $B$ be sets and let $R\colon A\rightproarrow B$ be a relation.
\begin{definition}{Direct Images}{the-direct-image-function-associated-to-a-relation}%
    The \index[set-theory]{relation!associated direct image function}\textbf{direct image function associated to $R$} is the function\index[notation]{Rstar@$R^{*}$}%
    \[%
        R_{*}%
        \colon%
        \mathcal{P}(A)%
        \to%
        \mathcal{P}(B)%
    \]%
    defined by\index[notation]{RU@$R(U)$}%
    %--- Begin Footnote ---%
    \footnote{%
        \SloganFont{Further Terminology: }The set $R(U)$ is called the \textbf{direct image of $U$ by $R$}.
    }%
    %---  End Footnote  ---%
    %--- Begin Footnote ---%
    \footnote{%
        We also have
        \[
            R_{*}(U)%
            =%
            B\setminus R_{!}(A\setminus U);
        \]%
        see \cref{properties-of-direct-image-functions-associated-to-relations-relation-to-direct-images-with-compact-support} of \cref{properties-of-direct-image-functions-associated-to-relations}.
        \par\vspace*{-1.75\baselineskip}
    }%
    %---  End Footnote  ---%
    \begin{align*}
        R_{*}(U) &\defeq R(U)\\%
                 &\defeq \bigcup_{a\in U}R(a)\\
                 &=      \{%
                             b\in B%
                             \ \middle|\ %
                             \begin{aligned}
                                 &\text{there exists some $a\in U$}\\
                                 &\text{such that $b\in R(a)$}
                             \end{aligned}
                         \}%
    \end{align*}
    for each $U\in\mathcal{P}(A)$.
\end{definition}
\begin{remark}{Unwinding \cref{the-direct-image-function-associated-to-a-relation}}{unwinding-the-direct-image-function-associated-to-a-relation}%
    Identifying subsets of $A$ with relations from $\pt$ to $A$ via \ChapterRef{\ChapterConstructionsWithSets, \cref{constructions-with-sets:properties-of-powersets-as-sets-of-functions-relations-powersets-as-sets-of-relations} of \cref{constructions-with-sets:properties-of-powersets-as-sets-of-functions-relations}}{\cref{properties-of-powersets-as-sets-of-functions-relations-powersets-as-sets-of-relations} of \cref{properties-of-powersets-as-sets-of-functions-relations}}, we see that the direct image function associated to $R$ is equivalently the function
    \[
        R_{*}%
        \colon%
        \underbrace{\mathcal{P}(A)}_{\cong\Rel(\pt,A)}
        \to%
        \underbrace{\mathcal{P}(B)}_{\cong\Rel(\pt,B)}%
    \]%
    defined by
    \[
        R_{*}(U)%
        \defeq%
        R\procirc U%
    \]%
    for each $U\in\mathcal{P}(A)$, where $R\procirc U$ is the composition
    \[
        \pt%
        \xrightproarrow{U}%
        A%
        \xrightproarrow{R}%
        B.
    \]%
\end{remark}
\begin{proposition}{Properties of Direct Image Functions}{properties-of-direct-image-functions-associated-to-relations}%
    Let $R\colon A\rightproarrow B$ be a relation.
    \begin{enumerate}
        \item\label{properties-of-direct-image-functions-associated-to-relations-functoriality}\SloganFont{Functoriality. }The assignment $U\mapsto R_{*}(U)$ defines a functor
            \[
                R_{*}%
                \colon%
                (\mathcal{P}(A),\subset)%
                \to%
                (\mathcal{P}(B),\subset)%
            \]%
            where
            \begin{itemize}
                \item\SloganFont{Action on Objects. }For each $U\in\mathcal{P}(A)$, we have
                    \[
                        [R_{*}](U)%
                        \defeq%
                        R_{*}(U).
                    \]%
                \item\SloganFont{Action on Morphisms. }For each $U,V\in\mathcal{P}(A)$:
                    \begin{itemize}
                        \item If $U\subset V$, then $R_{*}(U)\subset R_{*}(V)$.
                    \end{itemize}
            \end{itemize}
        \item\label{properties-of-direct-image-functions-associated-to-relations-adjointness}\SloganFont{Adjointness. }We have an adjunction
            \begin{webcompile}
                \Adjunction#R_{*}#R_{-1}#\mathcal{P}(A)#\mathcal{P}(B),#
            \end{webcompile}
            witnessed by a bijections of sets
            \[%
                \Hom_{\mathcal{P}(A)}(R_{*}(U),V)%
                \cong%
                \Hom_{\mathcal{P}(A)}(U,R_{-1}(V)),%
            \]%
            natural in $U\in\mathcal{P}(A)$ and $V\in\mathcal{P}(B)$, i.e.\ such that:
            \begin{itemize}
                \item[$(\star)$]The following conditions are equivalent:
                    \begin{itemize}
                        \item We have $R_{*}(U)\subset V$.
                        \item We have $U\subset R_{-1}(V)$.
                    \end{itemize}
            \end{itemize}
        \item\label{properties-of-direct-image-functions-associated-to-relations-preservation-of-colimits}\SloganFont{Preservation of Colimits. }We have an equality of sets
            \[
                R_{*}(\bigcup_{i\in I}U_{i})%
                =%
                \bigcup_{i\in I}R_{*}(U_{i}),%
            \]%
            natural in $\{U_{i}\}_{i\in I}\in\mathcal{P}(A)^{\times I}$. In particular, we have equalities%
            \[
                \begin{gathered}
                    R_{*}(U)\cup R_{*}(V)                  = R_{*}(U\cup V),\\
                    R_{*}(\emptyset)                       = \emptyset,
                \end{gathered}
            \]%
            natural in $U,V\in\mathcal{P}(A)$.
        \item\label{properties-of-direct-image-functions-associated-to-relations-oplax-preservation-of-limits}\SloganFont{Oplax Preservation of Limits. }We have an inclusion of sets
            \[
                R_{*}(\bigcap_{i\in I}U_{i})%
                \subset%
                \bigcap_{i\in I}R_{*}(U_{i}),%
            \]%
            natural in $\{U_{i}\}_{i\in I}\in\mathcal{P}(A)^{\times I}$. In particular, we have inclusions%
            \[
                \begin{gathered}
                    R_{*}(U\cap V) \subset R_{*}(U)\cap R_{*}(V),\\
                    R_{*}(A)       \subset B,
                \end{gathered}
            \]%
            natural in $U,V\in\mathcal{P}(A)$.
        \item\label{properties-of-direct-image-functions-associated-to-relations-symmetric-strict-monoidality-with-respect-to-unions}\SloganFont{Symmetric Strict Monoidality With Respect to Unions. }The direct image function of \cref{properties-of-direct-image-functions-associated-to-relations-functoriality} has a symmetric strict monoidal structure
            \[
                (R_{*},R^{\otimes}_{*},R^{\otimes}_{*|\Unit})
                \colon
                (\mathcal{P}(A),\cup,\emptyset)
                \to
                (\mathcal{P}(B),\cup,\emptyset),
            \]%
            being equipped with equalities%
            \[
                \begin{gathered}
                    R^{\otimes}_{*|U,V}   \colon R_{*}(U)\cup R_{*}(V) \rightequalsarrow R_{*}(U\cup V),\\
                    R^{\otimes}_{*|\Unit} \colon \emptyset             \rightequalsarrow \emptyset,
                \end{gathered}
            \]%
            natural in $U,V\in\mathcal{P}(A)$.
        \item\label{properties-of-direct-image-functions-associated-to-relations-symmetric-oplax-monoidality-with-respect-to-intersections}\SloganFont{Symmetric Oplax Monoidality With Respect to Intersections. }The direct image function of \cref{properties-of-direct-image-functions-associated-to-relations-functoriality} has a symmetric oplax monoidal structure
            \[
                (R_{*},R^{\otimes}_{*},R^{\otimes}_{*|\Unit})
                \colon
                (\mathcal{P}(A),\cap,A)
                \to
                (\mathcal{P}(B),\cap,B),
            \]%
            being equipped with inclusions%
            \[
                \begin{gathered}
                    R^{\otimes}_{*|U,V}   \colon R_{*}(U\cap V) \subset R_{*}(U)\cap R_{*}(V),\\
                    R^{\otimes}_{*|\Unit} \colon R_{*}(A)       \subset B,
                \end{gathered}
            \]%
            natural in $U,V\in\mathcal{P}(A)$.
        \item\label{properties-of-direct-image-functions-associated-to-relations-relation-to-direct-images-with-compact-support}\SloganFont{Relation to Direct Images With Compact Support. }We have
            \[
                R_{*}(U)%
                =%
                B\setminus R_{!}(A\setminus U)%
            \]%
            for each $U\in\mathcal{P}(A)$.
        %\item\label{properties-of-direct-image-functions-associated-to-relations-}\SloganFont{. }
    \end{enumerate}
\end{proposition}
\begin{Proof}{Proof of \cref{properties-of-direct-image-functions-associated-to-relations}}%
    \FirstProofBox{\cref{properties-of-direct-image-functions-associated-to-relations-functoriality}: Functoriality}%
    Clear.

    \ProofBox{\cref{properties-of-direct-image-functions-associated-to-relations-adjointness}: Adjointness}%
    This follows from \ChapterRef{\ChapterKanExtensions, \cref{kan-extensions:properties-of-kan-extensions-triple-adjointness} of \cref{kan-extensions:properties-of-kan-extensions}}{\cref{properties-of-kan-extensions-triple-adjointness} of \cref{properties-of-kan-extensions}}.

    \ProofBox{\cref{properties-of-direct-image-functions-associated-to-relations-preservation-of-colimits}: Preservation of Colimits}%
    This follows from \cref{properties-of-direct-image-functions-associated-to-relations-adjointness} and \ChapterRef{\ChapterAdjunctionsAndTheYonedaLemma, \cref{adjunctions-and-the-yoneda-lemma:properties-of-adjunctions-interaction-of-co-limits} of \cref{adjunctions-and-the-yoneda-lemma:properties-of-adjunctions}}{\cref{properties-of-adjunctions-interaction-of-co-limits} of \cref{properties-of-adjunctions}}.

    \ProofBox{\cref{properties-of-direct-image-functions-associated-to-relations-oplax-preservation-of-limits}: Oplax Preservation of Limits}%
    Omitted.

    \ProofBox{\cref{properties-of-direct-image-functions-associated-to-relations-symmetric-strict-monoidality-with-respect-to-unions}: Symmetric Strict Monoidality With Respect to Unions}%
    This follows from \cref{properties-of-direct-image-functions-associated-to-relations-preservation-of-colimits}.

    \ProofBox{\cref{properties-of-direct-image-functions-associated-to-relations-symmetric-oplax-monoidality-with-respect-to-intersections}: Symmetric Oplax Monoidality With Respect to Intersections}%
    This follows from \cref{properties-of-direct-image-functions-associated-to-relations-oplax-preservation-of-limits}.

    \ProofBox{\cref{properties-of-direct-image-functions-associated-to-relations-relation-to-direct-images-with-compact-support}: Relation to Direct Images With Compact Support}%
    The proof proceeds in the same way as in the case of functions (\ChapterRef{\ChapterConstructionsWithSets, \cref{constructions-with-sets:properties-of-direct-images-i-relation-to-direct-images-with-compact-support} of \cref{constructions-with-sets:properties-of-direct-images-i}}{\cref{properties-of-direct-images-properties-of-direct-images-i-relation-to-direct-images-with-compact-support} of \cref{properties-of-direct-images-i}}): applying \cref{properties-of-direct-image-with-compact-support-functions-associated-to-relations-relation-to-direct-images} of \cref{properties-of-direct-image-with-compact-support-functions-associated-to-relations} to $A\setminus U$, we have
    \begin{align*}
        R_{!}(A\setminus U) &= B\setminus R_{*}(A\setminus(A\setminus U))\\
                            &= B\setminus R_{*}(U).
    \end{align*}
    Taking complements, we then obtain
    \begin{align*}
        R_{*}(U) &= B\setminus(B\setminus R_{*}(U)),\\
                 &= B\setminus R_{!}(A\setminus U),
    \end{align*}
    which finishes the proof.
\end{Proof}
\begin{proposition}{Properties of the Direct Image Function Operation}{properties-of-the-direct-image-function-operation-for-relations}%
    Let $R\colon A\rightproarrow B$ be a relation.
    \begin{enumerate}
        \item\label{properties-of-the-direct-image-function-operation-for-relations-functionality-1}\SloganFont{Functionality \rmI. }The assignment $R\mapsto R_{*}$ defines a function
            \[
                (-)_{*}%
                \colon%
                \Rel(A,B)
                \to%
                \Sets(\mathcal{P}(A),\mathcal{P}(B)).
            \]%
        \item\label{properties-of-the-direct-image-function-operation-for-relations-functionality-2}\SloganFont{Functionality \rmII. }The assignment $R\mapsto R_{*}$ defines a function
            \[
                (-)_{*}%
                \colon%
                \Rel(A,B)
                \to%
                \Pos((\mathcal{P}(A),\subset),(\mathcal{P}(B),\subset)).
            \]%
        \item\label{properties-of-the-direct-image-function-operation-for-relations-interaction-with-identities}\SloganFont{Interaction With Identities. }For each $A\in\Obj(\Sets)$, we have%
            %--- Begin Footnote ---%
            \footnote{%
                That is, the postcomposition function
                \[
                    (\chi_{A})_{*}%
                    \colon%
                    \Rel(\pt,A)%
                    \to%
                    \Rel(\pt,A)%
                \]%
                is equal to $\id_{\Rel(\pt,A)}$.
            }%
            %---  End Footnote  ---%
            \[
                (\chi_{A})_{*}%
                =%
                \id_{\mathcal{P}(A)}.%
            \]%
        \item\label{properties-of-the-direct-image-function-operation-for-relations-interaction-with-composition}\SloganFont{Interaction With Composition. }For each pair of composable relations $R\colon A\rightproarrow B$ and $S\colon B\rightproarrow C$, we have%
            %--- Begin Footnote ---%
            \footnote{%
                That is, we have
                \begin{webcompile}
                    (S\procirc R)_{*}%
                    =%
                    S_{*}\circ R_{*},%
                    \quad%
                    \begin{tikzcd}[row sep={5.0*\the\DL,between origins}, column sep={6.5*\the\DL,between origins}, background color=backgroundColor, ampersand replacement=\&]
                        {\Rel(\pt,A)}
                        \arrow[r,"R_{*}"]
                        \arrow[rd,"{(S\procirc R)_{*}}"']
                        \&
                        {\Rel(\pt,B)}
                        \arrow[d,"S_{*}"]
                        \\
                        \&
                        {\Rel(\pt,C)}\mrp{.}
                    \end{tikzcd}
                \end{webcompile}
                \par\vspace*{-2.0\baselineskip}
            }%
            %---  End Footnote  ---%
            \begin{webcompile}
                (S\procirc R)_{*}%
                =%
                S_{*}\circ R_{*},%
                \quad%
                \begin{tikzcd}[row sep={5.0*\the\DL,between origins}, column sep={5.0*\the\DL,between origins}, background color=backgroundColor, ampersand replacement=\&]
                    \mathcal{P}(A)
                    \arrow[r,"R_{*}"]
                    \arrow[rd,"{(S\procirc R)_{*}}"']
                    \&
                    \mathcal{P}(B)
                    \arrow[d,"S_{*}"]
                    \\
                    \&
                    \mathcal{P}(C)\mrp{.}
                \end{tikzcd}
            \end{webcompile}
        %\item\label{properties-of-the-direct-image-function-operation-for-relations-}\SloganFont{. }
    \end{enumerate}
\end{proposition}
\begin{Proof}{Proof of \cref{properties-of-the-direct-image-function-operation-for-relations}}%
    \FirstProofBox{\cref{properties-of-the-direct-image-function-operation-for-relations-functionality-1}: Functionality \rmI}%
    Clear.

    \ProofBox{\cref{properties-of-the-direct-image-function-operation-for-relations-functionality-2}: Functionality \rmII}%
    Clear.

    \ProofBox{\cref{properties-of-the-direct-image-function-operation-for-relations-interaction-with-identities}: Interaction With Identities}%
    Indeed, we have
    \begin{align*}
        (\chi_{A})_{*}(U) &\defeq \bigcup_{a\in U}\chi_{A}(a)\\
                          &\defeq \bigcup_{a\in U}\{a\}\\
                          &=      U\\
                          &\defeq \id_{\mathcal{P}(A)}(U)
    \end{align*}
    for each $U\in\mathcal{P}(A)$. Thus $(\chi_{A})_{*}=\id_{\mathcal{P}(A)}$.

    \ProofBox{\cref{properties-of-the-direct-image-function-operation-for-relations-interaction-with-composition}: Interaction With Composition}%
    Indeed, we have
    \begin{align*}
        (S\procirc R)_{*}(U) &\defeq \bigcup_{a\in U}[S\procirc R](a)\\
                             &\defeq \bigcup_{a\in U}S(R(a))\\
                             &\defeq \bigcup_{a\in U}S_{*}(R(a))\\
                             %&\defeq \bigcup_{a\in U}\bigcup_{x\in R(a)}S(x)\\
                             %&\defeq  \bigcup_{a\in U}S_{*}(R(a))\\
                             &=      S_{*}(\bigcup_{a\in U}R(a))\\
                             &\defeq S_{*}(R_{*}(U))\\
                             &\defeq [S_{*}\circ R_{*}](U)
    \end{align*}
    for each $U\in\mathcal{P}(A)$, where we used \cref{properties-of-direct-image-functions-associated-to-relations-preservation-of-colimits} of \cref{properties-of-direct-image-functions-associated-to-relations}. Thus $(S\procirc R)_{*}=S_{*}\circ R_{*}$.
\end{Proof}
\subsection{Strong Inverse Images}\label{subsection-strong-inverse-images}
Let $A$ and $B$ be sets and let $R\colon A\rightproarrow B$ be a relation.
\begin{definition}{Strong Inverse Images}{the-strong-inverse-image-function-associated-to-a-relation}%
    The \index[set-theory]{relation!associated strong inverse image function}\textbf{strong inverse image function associated to $R$} is the function\index[notation]{Rminusone@$R_{-1}$}%
    \[%
        R_{-1}%
        \colon%
        \mathcal{P}(B)%
        \to%
        \mathcal{P}(A)%
    \]%
    defined by\index[notation]{RminusoneV@$R_{-1}(V)$}%
    %--- Begin Footnote ---%
    \footnote{%
        \SloganFont{Further Terminology: }The set $R_{-1}(V)$ is called the \textbf{strong inverse image of $V$ by $R$}.
        \par\vspace*{-1.75\baselineskip}
    }%
    %---  End Footnote  ---%
    \[%
        R_{-1}(V)
        \defeq%
        \{%
            a\in A%
            \ \middle|\ %
            R(a)\subset V%
        \}%
    \]%
    for each $V\in\mathcal{P}(B)$.
\end{definition}
\begin{remark}{Unwinding \cref{the-strong-inverse-image-function-associated-to-a-relation}}{unwinding-the-strong-inverse-image-function-associated-to-a-relation}%
    Identifying subsets of $B$ with relations from $\pt$ to $B$ via \ChapterRef{\ChapterConstructionsWithSets, \cref{constructions-with-sets:properties-of-powersets-as-sets-of-functions-relations-powersets-as-sets-of-relations} of \cref{constructions-with-sets:properties-of-powersets-as-sets-of-functions-relations}}{\cref{properties-of-powersets-as-sets-of-functions-relations-powersets-as-sets-of-relations} of \cref{properties-of-powersets-as-sets-of-functions-relations}}, we see that the inverse image function associated to $R$ is equivalently the function
    \[
        R_{-1}%
        \colon%
        \underbrace{\mathcal{P}(B)}_{\cong\Rel(\pt,B)}%
        \to%
        \underbrace{\mathcal{P}(A)}_{\cong\Rel(\pt,A)}%
    \]%
    defined by
    \begin{webcompile}
        R_{-1}(V)%
        \defeq%
        \Rift_{R}(V),%
        \quad
        \begin{tikzcd}[row sep={5.0*\the\DL,between origins}, column sep={5.0*\the\DL,between origins}, background color=backgroundColor, ampersand replacement=\&]
            \&
            A
            \arrow[d,mid vert, "R"]
            \\
            \pt%
            \arrow[ru,"\Rift_{R}(V)",dashed, mid vert]
            \arrow[r,mid vert, "V"'{name=F}]
            \&
            B\mrp{,}
            % 2-Arrows
            \arrow[from=1-2,to=F,Rightarrow,shorten=0.5em,pos=0.4]
        \end{tikzcd}
    \end{webcompile}
    and being explicitly computed by
    \begin{align*}
        R_{-1}(V) &\defeq \Rift_{R}(V)\\%
                  &\cong  \int_{b\in B}\Hom_{\TTV}(R^{b}_{-_{1}},V^{b}_{-_{2}}),%
    \end{align*}
    where we have used \cref{existence-of-right-kan-lifts-in-rel}.
\end{remark}
\begin{Proof}{Proof of \cref{unwinding-the-strong-inverse-image-function-associated-to-a-relation}}%
    We have
    \begingroup\small
    \begin{align*}
        \Rift_{R}(V)%
        &\cong%
        \int_{b\in B}\Hom_{\TTV}(R^{b}_{-_{1}},V^{b}_{-_{2}})\\%
        &=%
        \{%
            a\in A%
            \ \middle|\ %
            \int_{b\in B}\Hom_{\TTV}(R^{b}_{a},V^{b}_{\point})=\true%
        \}%
        \\
        &=
        \{%
            a\in A%
            \ \middle|\ %
            \begin{aligned}
                &\text{for each $b\in B$, at least one of the}\\[-2.5pt]
                &\text{following conditions hold:}\\[7.5pt]
                &\mspace{25mu}\rlap{\text{1.}}\mspace{22.5mu}\text{We have $R^{b}_{a}=\false$}\\%
                &\mspace{25mu}\rlap{\text{2.}}\mspace{22.5mu}\text{The following conditions hold:}\\[7.5pt]%
                &\mspace{50mu}\rlap{\text{\norg(a\norg)}}\mspace{30mu}\text{We have $R^{b}_{a}=\true$}\\
                &\mspace{50mu}\rlap{\text{\norg(b\norg)}}\mspace{30mu}\text{We have $V^{b}_{\point}=\true$}\\[10pt]
            \end{aligned}
        \}\\%
        &=
        \{%
            a\in A%
            \ \middle|\ %
            \begin{aligned}
                &\text{for each $b\in B$, at least one of the}\\[-2.5pt]
                &\text{following conditions hold:}\\[7.5pt]
                &\mspace{25mu}\rlap{\text{1.}}\mspace{22.5mu}\text{We have $b\nin R(a)$}\\%
                &\mspace{25mu}\rlap{\text{2.}}\mspace{22.5mu}\text{The following conditions hold:}\\[7.5pt]%
                &\mspace{50mu}\rlap{\text{\norg(a\norg)}}\mspace{30mu}\text{We have $b\in R(a)$}\\
                &\mspace{50mu}\rlap{\text{\norg(b\norg)}}\mspace{30mu}\text{We have $b\in V$}\\[10pt]
            \end{aligned}
        \}\\%
        &=
        \{%
            a\in A%
            \ \middle|\ %
            \text{for each $b\in R(a)$, we have $b\in V$}%
        \}\\%
        &=
        \{%
            a\in A%
            \ \middle|\ %
            R(a)\subset V%
        \}\\%
        &\defeq%
        R_{-1}(V).%
    \end{align*}
    \endgroup
    This finishes the proof.
\end{Proof}
\begin{proposition}{Properties of Strong Inverse Images}{properties-of-strong-inverse-image-functions-associated-to-relations}%
    Let $R\colon A\rightproarrow B$ be a relation.
    \begin{enumerate}
        \item\label{properties-of-strong-inverse-image-functions-associated-to-relations-functoriality}\SloganFont{Functoriality. }The assignment $V\mapsto R_{-1}(V)$ defines a functor
            \[
                R_{-1}%
                \colon%
                (\mathcal{P}(B),\subset)%
                \to%
                (\mathcal{P}(A),\subset)%
            \]%
            where
            \begin{itemize}
                \item\SloganFont{Action on Objects. }For each $V\in\mathcal{P}(B)$, we have
                    \[
                        [R_{-1}](V)%
                        \defeq%
                        R_{-1}(V).
                    \]%
                \item\SloganFont{Action on Morphisms. }For each $U,V\in\mathcal{P}(B)$:
                    \begin{itemize}
                        \item If $U\subset V$, then $R_{-1}(U)\subset R_{-1}(V)$.
                    \end{itemize}
            \end{itemize}
        \item\label{properties-of-strong-inverse-image-functions-associated-to-relations-adjointness}\SloganFont{Adjointness. }We have an adjunction
            \begin{webcompile}
                \Adjunction#R_{*}#R_{-1}#\mathcal{P}(A)#\mathcal{P}(B),#
            \end{webcompile}
            witnessed by a bijections of sets
            \[%
                \Hom_{\mathcal{P}(A)}(R_{*}(U),V)%
                \cong%
                \Hom_{\mathcal{P}(A)}(U,R_{-1}(V)),%
            \]%
            natural in $U\in\mathcal{P}(A)$ and $V\in\mathcal{P}(B)$, i.e.\ such that:
            \begin{itemize}
                \item[$(\star)$]The following conditions are equivalent:
                    \begin{itemize}
                        \item We have $R_{*}(U)\subset V$.
                        \item We have $U\subset R_{-1}(V)$.
                    \end{itemize}
            \end{itemize}
        \item\label{properties-of-strong-inverse-image-functions-associated-to-relations-lax-preservation-of-colimits}\SloganFont{Lax Preservation of Colimits. }We have an inclusion of sets
            \[
                \bigcup_{i\in I}R_{-1}(U_{i})%
                \subset%
                R_{-1}(\bigcup_{i\in I}U_{i}),%
            \]%
            natural in $\{U_{i}\}_{i\in I}\in\mathcal{P}(B)^{\times I}$. In particular, we have inclusions%
            \[
                \begin{gathered}
                    R_{-1}(U)\cup R_{-1}(V) \subset R_{-1}(U\cup V),\\
                    \emptyset               \subset R_{-1}(\emptyset),
                \end{gathered}
            \]%
            natural in $U,V\in\mathcal{P}(B)$.
        \item\label{properties-of-strong-inverse-image-functions-associated-to-relations-preservation-of-limits}\SloganFont{Preservation of Limits. }We have an equality of sets
            \[
                    R_{-1}(\bigcap_{i\in I}U_{i})%
                    =%
                    \bigcap_{i\in I}R_{-1}(U_{i}),%
            \]%
            natural in $\{U_{i}\}_{i\in I}\in\mathcal{P}(B)^{\times I}$. In particular, we have equalities%
            \[
                \begin{gathered}
                    R_{-1}(U\cap V) = R_{-1}(U)\cap R_{-1}(V),\\
                    R_{-1}(B)       = B,
                \end{gathered}
            \]%
            natural in $U,V\in\mathcal{P}(B)$.
        \item\label{properties-of-strong-inverse-image-functions-associated-to-relations-symmetric-lax-monoidality-with-respect-to-unions}\SloganFont{Symmetric Lax Monoidality With Respect to Unions. }The direct image with compact support function of \cref{properties-of-strong-inverse-image-functions-associated-to-relations-functoriality} has a symmetric lax monoidal structure
            \[
                (R_{-1},R^{\otimes}_{-1},R^{\otimes}_{-1|\Unit})
                \colon
                (\mathcal{P}(A),\cup,\emptyset)
                \to
                (\mathcal{P}(B),\cup,\emptyset),
            \]%
            being equipped with inclusions%
            \[
                \begin{gathered}
                    R^{\otimes}_{-1|U,V}   \colon R_{-1}(U)\cup R_{-1}(V) \subset R_{-1}(U\cup V),\\
                    R^{\otimes}_{-1|\Unit} \colon \emptyset               \subset R_{-1}(\emptyset),
                \end{gathered}
            \]%
            natural in $U,V\in\mathcal{P}(B)$.
        \item\label{properties-of-strong-inverse-image-functions-associated-to-relations-symmetric-strict-monoidality-with-respect-to-intersections}\SloganFont{Symmetric Strict Monoidality With Respect to Intersections. }The direct image function of \cref{properties-of-strong-inverse-image-functions-associated-to-relations-functoriality} has a symmetric strict monoidal structure
            \[
                (R_{-1},R^{\otimes}_{-1},R^{\otimes}_{-1|\Unit})
                \colon
                (\mathcal{P}(A),\cap,A)
                \to
                (\mathcal{P}(B),\cap,B),
            \]%
            being equipped with equalities%
            \[
                \begin{gathered}
                    R^{\otimes}_{-1|U,V}   \colon R_{-1}(U\cap V) \rightequalsarrow R_{-1}(U)\cap R_{-1}(V),\\
                    R^{\otimes}_{-1|\Unit} \colon R_{-1}(A)       \rightequalsarrow B,
                \end{gathered}
            \]%
            natural in $U,V\in\mathcal{P}(B)$.
        \item\label{properties-of-strong-inverse-image-functions-associated-to-relations-interaction-with-weak-inverse-images-1}\SloganFont{Interaction With Weak Inverse Images \rmI. }We have
            \[
                R_{-1}(V)%
                =%
                A\setminus R^{-1}(B\setminus V)
            \]%
            for each $V\in\mathcal{P}(B)$.
        \item\label{properties-of-strong-inverse-image-functions-associated-to-relations-interaction-with-weak-inverse-images-2}\SloganFont{Interaction With Weak Inverse Images \rmII. }Let $R\colon A\rightproarrow B$ be a relation from $A$ to $B$.
            \begin{enumerate}
                \item\label{properties-of-strong-inverse-image-functions-associated-to-relations-interaction-with-weak-inverse-images-2-a}If $R$ is a total relation, then we have an inclusion of sets
                    \[
                        R_{-1}(V)
                        \subset
                        R^{-1}(V)
                    \]%
                    natural in $V\in\mathcal{P}(B)$.
                \item\label{properties-of-strong-inverse-image-functions-associated-to-relations-interaction-with-weak-inverse-images-2-b}If $R$ is total and functional, then the above inclusion is in fact an equality.
                \item\label{properties-of-strong-inverse-image-functions-associated-to-relations-interaction-with-weak-inverse-images-2-c}Conversely, if we have $R_{-1}=R^{-1}$, then $R$ is total and functional.
            \end{enumerate}
        %\item\label{properties-of-strong-inverse-image-functions-associated-to-relations-}\SloganFont{. }
    \end{enumerate}
\end{proposition}
\begin{Proof}{Proof of \cref{properties-of-strong-inverse-image-functions-associated-to-relations}}%
    \FirstProofBox{\cref{properties-of-strong-inverse-image-functions-associated-to-relations-functoriality}: Functoriality}%
    Clear.

    \ProofBox{\cref{properties-of-strong-inverse-image-functions-associated-to-relations-adjointness}: Adjointness}%
    This follows from \ChapterRef{\ChapterKanExtensions, \cref{kan-extensions:properties-of-kan-extensions-triple-adjointness} of \cref{kan-extensions:properties-of-kan-extensions}}{\cref{properties-of-kan-extensions-triple-adjointness} of \cref{properties-of-kan-extensions}}.

    \ProofBox{\cref{properties-of-strong-inverse-image-functions-associated-to-relations-lax-preservation-of-colimits}: Lax Preservation of Colimits}%
    Omitted.

    \ProofBox{\cref{properties-of-strong-inverse-image-functions-associated-to-relations-preservation-of-limits}: Preservation of Limits}%
    This follows from \cref{properties-of-strong-inverse-image-functions-associated-to-relations-adjointness} and \ChapterRef{\ChapterAdjunctionsAndTheYonedaLemma, \cref{adjunctions-and-the-yoneda-lemma:properties-of-adjunctions-interaction-of-co-limits} of \cref{adjunctions-and-the-yoneda-lemma:properties-of-adjunctions}}{\cref{properties-of-adjunctions-interaction-of-co-limits} of \cref{properties-of-adjunctions}}.

    \ProofBox{\cref{properties-of-strong-inverse-image-functions-associated-to-relations-symmetric-lax-monoidality-with-respect-to-unions}: Symmetric Lax Monoidality With Respect to Unions}%
    This follows from \cref{properties-of-strong-inverse-image-functions-associated-to-relations-lax-preservation-of-colimits}.

    \ProofBox{\cref{properties-of-strong-inverse-image-functions-associated-to-relations-symmetric-strict-monoidality-with-respect-to-intersections}: Symmetric Strict Monoidality With Respect to Intersections}%
    This follows from \cref{properties-of-strong-inverse-image-functions-associated-to-relations-preservation-of-limits}.

    \ProofBox{\cref{properties-of-strong-inverse-image-functions-associated-to-relations-interaction-with-weak-inverse-images-1}: Interaction With Weak Inverse Images \rmI}%
    We claim we have an equality
    \[
        R_{-1}(B\setminus V)%
        =%
        A\setminus R^{-1}(V).%
    \]%
    Indeed, we have
    \begin{align*}
        R_{-1}(B\setminus V) &= \{a\in A\ |\ R(a)\subset B\setminus V\},\\%
        A\setminus R^{-1}(V) &= \{a\in A\ |\ R(a)\cap V=\emptyset\}.%
    \end{align*}
    Taking $V=B\setminus V$ then implies the original statement.

    \ProofBox{\cref{properties-of-strong-inverse-image-functions-associated-to-relations-interaction-with-weak-inverse-images-2}: Interaction With Weak Inverse Images \rmII}%
    \cref{properties-of-strong-inverse-image-functions-associated-to-relations-interaction-with-weak-inverse-images-2-a} is clear, while \cref{properties-of-strong-inverse-image-functions-associated-to-relations-interaction-with-weak-inverse-images-2-b,properties-of-strong-inverse-image-functions-associated-to-relations-interaction-with-weak-inverse-images-2-c} follow from \cref{properties-of-graphs-of-functions-characterisations} of \cref{properties-of-graphs-of-functions}.
\end{Proof}
\begin{proposition}{Properties of the Strong Inverse Image Function Operation}{properties-of-the-strong-inverse-image-function-operation-for-relations}%
    Let $R\colon A\rightproarrow B$ be a relation.
    \begin{enumerate}
        \item\label{properties-of-the-strong-inverse-image-function-operation-for-relations-functionality-1}\SloganFont{Functionality \rmI. }The assignment $R\mapsto R_{-1}$ defines a function
            \[
                (-)_{-1}%
                \colon%
                \Sets(A,B)
                \to%
                \Sets(\mathcal{P}(A),\mathcal{P}(B)).
            \]%
        \item\label{properties-of-the-strong-inverse-image-function-operation-for-relations-functionality-2}\SloganFont{Functionality \rmII. }The assignment $R\mapsto R_{-1}$ defines a function
            \[
                (-)_{-1}%
                \colon%
                \Sets(A,B)
                \to%
                \Pos((\mathcal{P}(A),\subset),(\mathcal{P}(B),\subset)).
            \]%
        \item\label{properties-of-the-strong-inverse-image-function-operation-for-relations-interaction-with-identities}\SloganFont{Interaction With Identities. }For each $A\in\Obj(\Sets)$, we have
            \[
                (\id_{A})_{-1}%
                =%
                \id_{\mathcal{P}(A)}.%
            \]%
        \item\label{properties-of-the-strong-inverse-image-function-operation-for-relations-interaction-with-composition}\SloganFont{Interaction With Composition. }For each pair of composable relations $R\colon A\rightproarrow B$ and $S\colon B\rightproarrow C$, we have%
            \begin{webcompile}
                (S\procirc R)_{-1}%
                =%
                R_{-1}\circ S_{-1},%
                \quad
                \begin{tikzcd}[row sep={5.0*\the\DL,between origins}, column sep={5.0*\the\DL,between origins}, background color=backgroundColor, ampersand replacement=\&]
                    \mathcal{P}(C)
                    \arrow[r,"S_{-1}"]
                    \arrow[rd,"{(S\procirc R)_{-1}}"']
                    \&
                    \mathcal{P}(B)
                    \arrow[d,"R_{-1}"]
                    \\
                    \&
                    \mathcal{P}(A)\mrp{.}
                \end{tikzcd}
            \end{webcompile}
        %\item\label{properties-of-the-strong-inverse-image-function-operation-for-relations-}\SloganFont{. }
    \end{enumerate}
\end{proposition}
\begin{Proof}{Proof of \cref{properties-of-the-strong-inverse-image-function-operation-for-relations}}%
    \FirstProofBox{\cref{properties-of-the-strong-inverse-image-function-operation-for-relations-functionality-1}: Functionality \rmI}%
    Clear.

    \ProofBox{\cref{properties-of-the-strong-inverse-image-function-operation-for-relations-functionality-2}: Functionality \rmII}%
    Clear.

    \ProofBox{\cref{properties-of-the-strong-inverse-image-function-operation-for-relations-interaction-with-identities}: Interaction With Identities}%
    Indeed, we have
    \begin{align*}
        (\chi_{A})_{-1}(U) &\defeq \{a\in A\ \middle|\ \chi_{A}(a)\subset U\}\\
                           &\defeq \{a\in A\ \middle|\ \{a\}\subset U\}\\
                           &=      U
    \end{align*}
    for each $U\in\mathcal{P}(A)$. Thus $(\chi_{A})_{-1}=\id_{\mathcal{P}(A)}$.

    \ProofBox{\cref{properties-of-the-strong-inverse-image-function-operation-for-relations-interaction-with-composition}: Interaction With Composition}%
    Indeed, we have
    \begin{align*}
        (S\procirc R)_{-1}(U) &\defeq \{a\in A\ \middle|\ [S\procirc R](a)\subset U\}\\
                              &\defeq \{a\in A\ \middle|\ S(R(a))\subset U\}\\
                              &\defeq \{a\in A\ \middle|\ S_{*}(R(a))\subset U\}\\
                              &=      \{a\in A\ \middle|\ R(a)\subset S_{-1}(U)\}\\
                              &\defeq R_{-1}(S_{-1}(U))\\
                              &\defeq [R_{-1}\circ S_{-1}](U)
    \end{align*}
    for each $U\in\mathcal{P}(C)$, where we used \cref{properties-of-strong-inverse-image-functions-associated-to-relations-adjointness} of \cref{properties-of-strong-inverse-image-functions-associated-to-relations}, which implies that the conditions
    \begin{itemize}
        \item We have $S_{*}(R(a))\subset U$.
        \item We have $R(a)\subset S_{-1}(U)$.
    \end{itemize}
    are equivalent. Thus $(S\procirc R)_{-1}=R_{-1}\circ S_{-1}$.
\end{Proof}
\subsection{Weak Inverse Images}\label{subsection-weak-inverse-images}
Let $A$ and $B$ be sets and let $R\colon A\rightproarrow B$ be a relation.
\begin{definition}{Weak Inverse Images}{the-weak-inverse-image-function-associated-to-a-relation}%
    The \index[set-theory]{relation!associated weak inverse image function}\textbf{weak inverse image function associated to $R$}%
    %--- Begin Footnote ---%
    \footnote{%
        \SloganFont{Further Terminology: }Also called simply the \textbf{inverse image function associated to $R$}.
    } %
    %---  End Footnote  ---%
    is the function\index[notation]{Rminusone@$R^{-1}$}%
    \[%
        R^{-1}%
        \colon%
        \mathcal{P}(B)%
        \to%
        \mathcal{P}(A)%
    \]%
    defined by\index[notation]{RminusoneV@$R^{-1}(V)$}%
    %--- Begin Footnote ---%
    \footnote{%
        \SloganFont{Further Terminology: }The set $R^{-1}(V)$ is called the \textbf{weak inverse image of $V$ by $R$} or simply the \textbf{inverse image of $V$ by $R$}.
        \par\vspace*{-1.75\baselineskip}
    }%
    %---  End Footnote  ---%
    \[%
        R^{-1}(V)
        \defeq%
        \{%
            a\in A%
            \ \middle|\ %
            R(a)\cap V\neq\emptyset%
        \}%
    \]%
    for each $V\in\mathcal{P}(B)$.
\end{definition}
\begin{remark}{Unwinding \cref{the-weak-inverse-image-function-associated-to-a-relation}}{unwinding-the-weak-inverse-image-function-associated-to-a-relation}%
    Identifying subsets of $B$ with relations from $B$ to $\pt$ via \ChapterRef{\ChapterConstructionsWithSets, \cref{constructions-with-sets:properties-of-powersets-as-sets-of-functions-relations-powersets-as-sets-of-relations} of \cref{constructions-with-sets:properties-of-powersets-as-sets-of-functions-relations}}{\cref{properties-of-powersets-as-sets-of-functions-relations-powersets-as-sets-of-relations} of \cref{properties-of-powersets-as-sets-of-functions-relations}}, we see that the weak inverse image function associated to $R$ is equivalently the function
    \[
        R^{-1}%
        \colon%
        \underbrace{\mathcal{P}(B)}_{\cong\Rel(B,\pt)}%
        \to%
        \underbrace{\mathcal{P}(A)}_{\cong\Rel(A,\pt)}
    \]%
    defined by
    \[
        R^{-1}(V)%
        \defeq%
        V\procirc R%
    \]%
    for each $V\in\mathcal{P}(A)$, where $R\procirc V$ is the composition
    \[
        A%
        \xrightproarrow{R}%
        B
        \xrightproarrow{V}%
        \pt.%
    \]%
    Explicitly, we have
    \begin{align*}
        R^{-1}(V) &\defeq V\procirc R\\
                  &\defeq \int^{b\in B}V^{-_{1}}_{b}\times R^{b}_{-_{2}}.
    \end{align*}
\end{remark}
\begin{Proof}{Proof of \cref{unwinding-the-weak-inverse-image-function-associated-to-a-relation}}%
    We have
    \begin{align*}
        V\procirc R%
        &\defeq%
        \int^{b\in B}V^{-_{1}}_{b}\times R^{b}_{-_{2}}\\
        &=%
        \{%
            a\in A%
            \ \middle|\ %
            \int^{b\in B}V^{\point}_{b}\times R^{b}_{a}=\true%
        \}%
        \\
        &=
        \{%
            a\in A%
            \ \middle|\ %
            \begin{aligned}
                &\text{there exists $b\in B$ such that the}\\[-2.5pt]
                &\text{following conditions hold:}\\[7.5pt]
                &\mspace{25mu}\rlap{\text{1.}}\mspace{22.5mu}\text{We have $V^{\point}_{b}=\true$}\\%
                &\mspace{25mu}\rlap{\text{2.}}\mspace{22.5mu}\text{We have $R^{b}_{a}=\true$}\\[10pt]%
            \end{aligned}
        \}\\%
        &=
        \{%
            a\in A%
            \ \middle|\ %
            \begin{aligned}
                &\text{there exists $b\in B$ such that the}\\[-2.5pt]
                &\text{following conditions hold:}\\[7.5pt]
                &\mspace{25mu}\rlap{\text{1.}}\mspace{22.5mu}\text{We have $b\in V$}\\%
                &\mspace{25mu}\rlap{\text{2.}}\mspace{22.5mu}\text{We have $b\in R(a)$}\\[10pt]%
            \end{aligned}
        \}\\%
        &=
        \{%
            a\in A%
            \ \middle|\ %
            \text{there exists $b\in V$ such that $b\in R(a)$}%
        \}\\%
        &=
        \{%
            a\in A%
            \ \middle|\ %
            R(a)\cap V\neq\emptyset%
        \}\\%
        &\defeq R^{-1}(V)%
    \end{align*}
    This finishes the proof.
\end{Proof}
\begin{proposition}{Properties of Weak Inverse Image Functions}{properties-of-weak-inverse-image-functions-associated-to-relations}%
    Let $R\colon A\rightproarrow B$ be a relation.
    \begin{enumerate}
        \item\label{properties-of-weak-inverse-image-functions-associated-to-relations-functoriality}\SloganFont{Functoriality. }The assignment $V\mapsto R^{-1}(V)$ defines a functor
            \[
                R^{-1}%
                \colon%
                (\mathcal{P}(B),\subset)%
                \to%
                (\mathcal{P}(A),\subset)%
            \]%
            where
            \begin{itemize}
                \item\SloganFont{Action on Objects. }For each $V\in\mathcal{P}(B)$, we have
                    \[
                        [R^{-1}](V)%
                        \defeq%
                        R^{-1}(V).
                    \]%
                \item\SloganFont{Action on Morphisms. }For each $U,V\in\mathcal{P}(B)$:
                    \begin{itemize}
                        \item If $U\subset V$, then $R^{-1}(U)\subset R^{-1}(V)$.
                    \end{itemize}
            \end{itemize}
        \item\label{properties-of-weak-inverse-image-functions-associated-to-relations-adjointness}\SloganFont{Adjointness. }We have an adjunction
            \begin{webcompile}
                \Adjunction#R^{-1}#R_{!}#\mathcal{P}(B)#\mathcal{P}(A),#
            \end{webcompile}
            witnessed by a bijections of sets
            \[%
                \Hom_{\mathcal{P}(A)}(R^{-1}(U),V)%
                \cong%
                \Hom_{\mathcal{P}(A)}(U,R_{!}(V)),%
            \]%
            natural in $U\in\mathcal{P}(A)$ and $V\in\mathcal{P}(B)$, i.e.\ such that:
            \begin{itemize}
                \item[$(\star)$]The following conditions are equivalent:
                    \begin{itemize}
                        \item We have $R^{-1}(U)\subset V$.
                        \item We have $U\subset R_{!}(V)$.
                    \end{itemize}
            \end{itemize}
        \item\label{properties-of-weak-inverse-image-functions-associated-to-relations-preservation-of-colimits}\SloganFont{Preservation of Colimits. }We have an equality of sets
            \[
                R^{-1}(\bigcup_{i\in I}U_{i})%
                =%
                \bigcup_{i\in I}R^{-1}(U_{i}),%
            \]%
            natural in $\{U_{i}\}_{i\in I}\in\mathcal{P}(B)^{\times I}$. In particular, we have equalities%
            \[
                \begin{gathered}
                    R^{-1}(U)\cup R^{-1}(V) = R^{-1}(U\cup V),\\
                    R^{-1}(\emptyset)       = \emptyset,
                \end{gathered}
            \]%
            natural in $U,V\in\mathcal{P}(B)$.
        \item\label{properties-of-weak-inverse-image-functions-associated-to-relations-oplax-preservation-of-limits}\SloganFont{Oplax Preservation of Limits. }We have an inclusion of sets
            \[
                R^{-1}(\bigcap_{i\in I}U_{i})%
                \subset%
                \bigcap_{i\in I}R^{-1}(U_{i}),%
            \]%
            natural in $\{U_{i}\}_{i\in I}\in\mathcal{P}(B)^{\times I}$. In particular, we have inclusions%
            \[
                \begin{gathered}
                    R^{-1}(U\cap V) \subset R^{-1}(U)\cap R^{-1}(V),\\
                    R^{-1}(A)       \subset B,
                \end{gathered}
            \]%
            natural in $U,V\in\mathcal{P}(B)$.
        \item\label{properties-of-weak-inverse-image-functions-associated-to-relations-symmetric-strict-monoidality-with-respect-to-unions}\SloganFont{Symmetric Strict Monoidality With Respect to Unions. }The direct image function of \cref{properties-of-weak-inverse-image-functions-associated-to-relations-functoriality} has a symmetric strict monoidal structure
            \[
                (R^{-1},R^{-1,\otimes},R^{-1,\otimes}_{\Unit})
                \colon
                (\mathcal{P}(A),\cup,\emptyset)
                \to
                (\mathcal{P}(B),\cup,\emptyset),
            \]%
            being equipped with equalities%
            \[
                \begin{gathered}
                    R^{-1,\otimes}_{U,V}   \colon R^{-1}(U)\cup R^{-1}(V) \rightequalsarrow R^{-1}(U\cup V),\\
                    R^{-1,\otimes}_{\Unit} \colon \emptyset               \rightequalsarrow \emptyset,
                \end{gathered}
            \]%
            natural in $U,V\in\mathcal{P}(B)$.
        \item\label{properties-of-weak-inverse-image-functions-associated-to-relations-symmetric-oplax-monoidality-with-respect-to-intersections}\SloganFont{Symmetric Oplax Monoidality With Respect to Intersections. }The direct image function of \cref{properties-of-weak-inverse-image-functions-associated-to-relations-functoriality} has a symmetric oplax monoidal structure
            \[
                (R^{-1},R^{-1,\otimes},R^{-1,\otimes}_{\Unit})
                \colon
                (\mathcal{P}(A),\cap,A)
                \to
                (\mathcal{P}(B),\cap,B),
            \]%
            being equipped with inclusions%
            \[
                \begin{gathered}
                    R^{-1,\otimes}_{U,V}   \colon R^{-1}(U\cap V) \subset R^{-1}(U)\cap R^{-1}(V),\\
                    R^{-1,\otimes}_{\Unit} \colon R^{-1}(A)       \subset B,
                \end{gathered}
            \]%
            natural in $U,V\in\mathcal{P}(B)$.
        \item\label{properties-of-weak-inverse-image-functions-associated-to-relations-interaction-with-strong-inverse-images-1}\SloganFont{Interaction With Strong Inverse Images \rmI. }We have
            \[
                R^{-1}(V)%
                =%
                A\setminus R_{-1}(B\setminus V)
            \]%
            for each $V\in\mathcal{P}(B)$.
        \item\label{properties-of-weak-inverse-image-functions-associated-to-relations-interaction-with-strong-inverse-images-2}\SloganFont{Interaction With Strong Inverse Images \rmII. }Let $R\colon A\rightproarrow B$ be a relation from $A$ to $B$.
            \begin{enumerate}
                \item\label{properties-of-weak-inverse-image-functions-associated-to-relations-interaction-with-strong-inverse-images-2-a}If $R$ is a total relation, then we have an inclusion of sets
                    \[
                        R_{-1}(V)
                        \subset
                        R^{-1}(V)
                    \]%
                    natural in $V\in\mathcal{P}(B)$.
                \item\label{properties-of-weak-inverse-image-functions-associated-to-relations-interaction-with-strong-inverse-images-2-b}If $R$ is total and functional, then the above inclusion is in fact an equality.
                \item\label{properties-of-weak-inverse-image-functions-associated-to-relations-interaction-with-strong-inverse-images-2-c}Conversely, if we have $R_{-1}=R^{-1}$, then $R$ is total and functional.
            \end{enumerate}
    \end{enumerate}
\end{proposition}
\begin{Proof}{Proof of \cref{properties-of-weak-inverse-image-functions-associated-to-relations}}%
    \FirstProofBox{\cref{properties-of-weak-inverse-image-functions-associated-to-relations-functoriality}: Functoriality}%
    Clear.

    \ProofBox{\cref{properties-of-weak-inverse-image-functions-associated-to-relations-adjointness}: Adjointness}%
    This follows from \ChapterRef{\ChapterKanExtensions, \cref{kan-extensions:properties-of-kan-extensions-triple-adjointness} of \cref{kan-extensions:properties-of-kan-extensions}}{\cref{properties-of-kan-extensions-triple-adjointness} of \cref{properties-of-kan-extensions}}.

    \ProofBox{\cref{properties-of-weak-inverse-image-functions-associated-to-relations-preservation-of-colimits}: Preservation of Colimits}%
    This follows from \cref{properties-of-weak-inverse-image-functions-associated-to-relations-adjointness} and \ChapterRef{\ChapterAdjunctionsAndTheYonedaLemma, \cref{adjunctions-and-the-yoneda-lemma:properties-of-adjunctions-interaction-of-co-limits} of \cref{adjunctions-and-the-yoneda-lemma:properties-of-adjunctions}}{\cref{properties-of-adjunctions-interaction-of-co-limits} of \cref{properties-of-adjunctions}}.

    \ProofBox{\cref{properties-of-weak-inverse-image-functions-associated-to-relations-oplax-preservation-of-limits}: Oplax Preservation of Limits}%
    Omitted.

    \ProofBox{\cref{properties-of-weak-inverse-image-functions-associated-to-relations-symmetric-strict-monoidality-with-respect-to-unions}: Symmetric Strict Monoidality With Respect to Unions}%
    This follows from \cref{properties-of-weak-inverse-image-functions-associated-to-relations-preservation-of-colimits}.

    \ProofBox{\cref{properties-of-weak-inverse-image-functions-associated-to-relations-symmetric-oplax-monoidality-with-respect-to-intersections}: Symmetric Oplax Monoidality With Respect to Intersections}%
    This follows from \cref{properties-of-weak-inverse-image-functions-associated-to-relations-oplax-preservation-of-limits}.

    \ProofBox{\cref{properties-of-weak-inverse-image-functions-associated-to-relations-interaction-with-strong-inverse-images-1}: Interaction With Strong Inverse Images \rmI}%
    This follows from \cref{properties-of-strong-inverse-image-functions-associated-to-relations-interaction-with-weak-inverse-images-1} of \cref{properties-of-strong-inverse-image-functions-associated-to-relations}.

    \ProofBox{\cref{properties-of-weak-inverse-image-functions-associated-to-relations-interaction-with-strong-inverse-images-2}: Interaction With Strong Inverse Images \rmII}%
    This was proved in \cref{properties-of-strong-inverse-image-functions-associated-to-relations-interaction-with-weak-inverse-images-2} of \cref{properties-of-strong-inverse-image-functions-associated-to-relations}.
\end{Proof}
\begin{proposition}{Properties of the Weak Inverse Image Function Operation}{properties-of-the-weak-inverse-image-function-operation-for-relations}%
    Let $R\colon A\rightproarrow B$ be a relation.
    \begin{enumerate}
        \item\label{properties-of-the-weak-inverse-image-function-operation-for-relations-functionality-1}\SloganFont{Functionality \rmI. }The assignment $R\mapsto R^{-1}$ defines a function
            \[
                (-)^{-1}%
                \colon%
                \Rel(A,B)
                \to%
                \Sets(\mathcal{P}(A),\mathcal{P}(B)).
            \]%
        \item\label{properties-of-the-weak-inverse-image-function-operation-for-relations-functionality-2}\SloganFont{Functionality \rmII. }The assignment $R\mapsto R^{-1}$ defines a function
            \[
                (-)^{-1}%
                \colon%
                \Rel(A,B)
                \to%
                \Pos((\mathcal{P}(A),\subset),(\mathcal{P}(B),\subset)).
            \]%
        \item\label{properties-of-the-weak-inverse-image-function-operation-for-relations-interaction-with-identities}\SloganFont{Interaction With Identities. }For each $A\in\Obj(\Sets)$, we have%
            %--- Begin Footnote ---%
            \footnote{%
                That is, the postcomposition
                \[
                    (\chi_{A})^{-1}%
                    \colon%
                    \Rel(\pt,A)%
                    \to%
                    \Rel(\pt,A)%
                \]%
                is equal to $\id_{\Rel(\pt,A)}$.
            }%
            %---  End Footnote  ---%
            \[
                (\chi_{A})^{-1}%
                =%
                \id_{\mathcal{P}(A)}.%
            \]%
        \item\label{properties-of-the-weak-inverse-image-function-operation-for-relations-interaction-with-composition}\SloganFont{Interaction With Composition. }For each pair of composable relations $R\colon A\rightproarrow B$ and $S\colon B\rightproarrow C$, we have%
            %--- Begin Footnote ---%
            \footnote{%
                That is, we have
                \begin{webcompile}
                    (S\procirc R)^{-1}%
                    =%
                    R^{-1}\circ S^{-1},%
                    \quad
                    \begin{tikzcd}[row sep={5.0*\the\DL,between origins}, column sep={6.5*\the\DL,between origins}, background color=backgroundColor, ampersand replacement=\&]
                        {\Rel(\pt,C)}
                        \arrow[r,"R^{-1}"]
                        \arrow[rd,"{(S\procirc R)^{-1}}"']
                        \&
                        {\Rel(\pt,B)}
                        \arrow[d,"S^{-1}"]
                        \\
                        \&
                        {\Rel(\pt,A)}\mrp{.}
                    \end{tikzcd}
                \end{webcompile}
                \par\vspace*{-2.0\baselineskip}
            }%
            %---  End Footnote  ---%
            \begin{webcompile}
                (S\procirc R)^{-1}%
                =%
                R^{-1}\circ S^{-1},%
                \quad
                \begin{tikzcd}[row sep={5.0*\the\DL,between origins}, column sep={5.0*\the\DL,between origins}, background color=backgroundColor, ampersand replacement=\&]
                    \mathcal{P}(C)
                    \arrow[r,"S^{-1}"]
                    \arrow[rd,"{(S\procirc R)^{-1}}"']
                    \&
                    \mathcal{P}(B)
                    \arrow[d,"R^{-1}"]
                    \\
                    \&
                    \mathcal{P}(A)\mrp{.}
                \end{tikzcd}
            \end{webcompile}
        %\item\label{properties-of-the-weak-inverse-image-function-operation-for-relations-}\SloganFont{. }
    \end{enumerate}
\end{proposition}
\begin{Proof}{Proof of \cref{properties-of-the-weak-inverse-image-function-operation-for-relations}}%
    \FirstProofBox{\cref{properties-of-the-weak-inverse-image-function-operation-for-relations-functionality-1}: Functionality \rmI}%
    Clear.

    \ProofBox{\cref{properties-of-the-weak-inverse-image-function-operation-for-relations-functionality-2}: Functionality \rmII}%
    Clear.

    \ProofBox{\cref{properties-of-the-weak-inverse-image-function-operation-for-relations-interaction-with-identities}: Interaction With Identities}%
    This follows from \ChapterRef{\ChapterCategories, \cref{categories:properties-of-pre-postcomposition-interaction-with-identities} of \cref{categories:properties-of-pre-postcomposition}}{\cref{properties-of-pre-postcomposition-interaction-with-identities} of \cref{properties-of-pre-postcomposition}}.
    %Indeed, we have
    %\begin{align*}
    %    (\chi_{A})^{-1}(U) &\defeq \{a\in A\ \middle|\ \{a\}\cap U\neq\emptyset\}\\
    %                       &=      U\\
    %                       &\defeq \id_{\mathcal{P}(A)}(U)
    %\end{align*}
    %for each $U\in\mathcal{P}(A)$. Thus $(\chi_{A})^{-1}=\id_{\mathcal{P}(A)}$.

    \ProofBox{\cref{properties-of-the-weak-inverse-image-function-operation-for-relations-interaction-with-composition}: Interaction With Composition}%
    This follows from \ChapterRef{\ChapterCategories, \cref{categories:properties-of-pre-postcomposition-interaction-with-composition-1} of \cref{categories:properties-of-pre-postcomposition}}{\cref{properties-of-pre-postcomposition-interaction-with-composition-1} of \cref{properties-of-pre-postcomposition}}.
    %Indeed, we have
    %\begin{align*}
    %    (S\procirc R)^{-1}(U) &\defeq \{a\in A\ \middle|\ S(R(a))\cap U\neq\emptyset\}\\
    %                          &=      ?\\
    %                          &=      \{a\in A\ \middle|\ R(a)\cap\{b\in B\ \middle|\ S(b)\cap U\neq\emptyset\}\neq\emptyset\}\\
    %                          &=      R^{-1}(\{b\in B\ \middle|\ S(b)\cap U\neq\emptyset\})\\
    %                          &\defeq R^{-1}(S^{-1}(U))\\
    %                          &\defeq [R^{-1}\circ S^{-1}](U)
    %\end{align*}
    %for each $U\in\mathcal{P}(A)$. Thus $(S\procirc R)^{-1}=S^{-1}\circ R^{-1}$.
\end{Proof}
\subsection{Direct Images With Compact Support}\label{subsection-direct-images-with-compact-support-relations}
Let $A$ and $B$ be sets and let $R\colon A\rightproarrow B$ be a relation.
\begin{definition}{Direct Images With Compact Support}{the-direct-image-with-compact-support-function-associated-to-a-relation}%
    The \index[set-theory]{relation!associated direct image with compact support function}\textbf{direct image with compact support function associated to $R$} is the function\index[notation]{Rshriek@$R_{"!}$}%
    \[%
        R_{!}%
        \colon%
        \mathcal{P}(A)%
        \to%
        \mathcal{P}(B)%
    \]%
    defined by\index[notation]{RshriekU@$R_{"!}(U)$}%
    %--- Begin Footnote ---%
    \footnote{%
        \SloganFont{Further Terminology: }The set $R_{!}(U)$ is called the \textbf{direct image with compact support of $U$ by $R$}.
    }%
    %---  End Footnote  ---%
    %--- Begin Footnote ---%
    \footnote{%
        We also have
        \[
            R_{!}(U)%
            =%
            B\setminus R_{*}(A\setminus U);
        \]%
        see \cref{properties-of-direct-image-with-compact-support-functions-associated-to-relations-relation-to-direct-images} of \cref{properties-of-direct-image-with-compact-support-functions-associated-to-relations}.
        \par\vspace*{-1.75\baselineskip}
    }%
    %---  End Footnote  ---%
    \begin{align*}
        R_{!}(U) &\defeq \{%
                             b\in B%
                             \ \middle|\ %
                             \begin{aligned}
                                 &\text{for each $a\in A$, if we have}\\%
                                 &\text{$b\in R(a)$, then $a\in U$}%
                             \end{aligned}
                         \}\\%
                 &=      \{%
                             b\in B%
                             \ \middle|\ %
                             R^{-1}(b)\subset U%
                         \}%
    \end{align*}
    for each $U\in\mathcal{P}(A)$.
\end{definition}
\begin{remark}{Unwinding \cref{the-direct-image-with-compact-support-function-associated-to-a-relation}}{unwinding-the-direct-image-with-compact-support-function-associated-to-a-relation}%
    Identifying subsets of $B$ with relations from $\pt$ to $B$ via \ChapterRef{\ChapterConstructionsWithSets, \cref{constructions-with-sets:properties-of-powersets-as-sets-of-functions-relations-powersets-as-sets-of-relations} of \cref{constructions-with-sets:properties-of-powersets-as-sets-of-functions-relations}}{\cref{properties-of-powersets-as-sets-of-functions-relations-powersets-as-sets-of-relations} of \cref{properties-of-powersets-as-sets-of-functions-relations}}, we see that the direct image with compact support function associated to $R$ is equivalently the function
    \[
        R_{!}%
        \colon%
        \underbrace{\mathcal{P}(A)}_{\cong\Rel(A,\pt)}%
        \to%
        \underbrace{\mathcal{P}(B)}_{\cong\Rel(B,\pt)}
    \]%
    defined by
    \begin{webcompile}
        R_{!}(U)%
        \defeq%
        \Ran_{R}(U),%
        \quad
        \begin{tikzcd}[row sep={5.0*\the\DL,between origins}, column sep={5.0*\the\DL,between origins}, background color=backgroundColor, ampersand replacement=\&]
            \&
            B
            \arrow[d, "\Ran_{R}(U)",dashed,mid vert]
            \\
            A
            \arrow[ru,mid vert, "R"]
            \arrow[r,mid vert,"U"'{name=F}]
            \&
            \pt\mrp{,}%
            % 2-Arrows
            \arrow[from=1-2,to=F,Rightarrow,shorten=0.5em,pos=0.5]
        \end{tikzcd}
    \end{webcompile}
    being explicitly computed by
    \begin{align*}
        R^{*}(U) &\defeq \Ran_{R}(U)\\%
                 &\cong  \int_{a\in A}\Hom_{\TTV}(R^{-_{2}}_{a},U^{-_{1}}_{a}),
    \end{align*}
    where we have used \cref{existence-of-right-kan-extensions-in-rel}.
\end{remark}
\begin{Proof}{Proof of \cref{unwinding-the-direct-image-with-compact-support-function-associated-to-a-relation}}%
    We have
    \begingroup\small
    \begin{align*}
        \Ran_{R}(V)%
        &\cong%
        \int_{a\in A}\Hom_{\TTV}(R^{-_{2}}_{a},U^{-_{1}}_{a})\\%
        &=%
        \{%
            b\in B%
            \ \middle|\ %
            \int_{a\in A}\Hom_{\TTV}(R^{b}_{a},U^{\point}_{a})=\true%
        \}%
        \\
        &=
        \{%
            b\in B%
            \ \middle|\ %
            \begin{aligned}
                &\text{for each $a\in A$, at least one of the}\\[-2.5pt]
                &\text{following conditions hold:}\\[7.5pt]
                &\mspace{25mu}\rlap{\text{1.}}\mspace{22.5mu}\text{We have $R^{b}_{a}=\false$}\\%
                &\mspace{25mu}\rlap{\text{2.}}\mspace{22.5mu}\text{The following conditions hold:}\\[7.5pt]%
                &\mspace{50mu}\rlap{\text{\norg(a\norg)}}\mspace{30mu}\text{We have $R^{b}_{a}=\true$}\\
                &\mspace{50mu}\rlap{\text{\norg(b\norg)}}\mspace{30mu}\text{We have $U^{\point}_{a}=\true$}\\[10pt]
            \end{aligned}
        \}\\%
        &=
        \{%
            b\in B%
            \ \middle|\ %
            \begin{aligned}
                &\text{for each $a\in A$, at least one of the}\\[-2.5pt]
                &\text{following conditions hold:}\\[7.5pt]
                &\mspace{25mu}\rlap{\text{1.}}\mspace{22.5mu}\text{We have $b\nin R(A)$}\\%
                &\mspace{25mu}\rlap{\text{2.}}\mspace{22.5mu}\text{The following conditions hold:}\\[7.5pt]%
                &\mspace{50mu}\rlap{\text{\norg(a\norg)}}\mspace{30mu}\text{We have $b\in R(a)$}\\
                &\mspace{50mu}\rlap{\text{\norg(b\norg)}}\mspace{30mu}\text{We have $a\in U$}\\[10pt]
            \end{aligned}
        \}\\%
        &=
        \{%
            b\in B%
            \ \middle|\ %
             \begin{aligned}
                 &\text{for each $a\in A$, if we have}\\%
                 &\text{$b\in R(a)$, then $a\in U$}%
             \end{aligned}
        \}\\%
        &=
        \{%
            b\in B%
            \ \middle|\ %
            R^{-1}(b)\subset U%
        \}\\%
        &\defeq%
        R^{-1}(U).%
    \end{align*}
    \endgroup
    This finishes the proof.
\end{Proof}
\begin{proposition}{Properties of Direct Images With Compact Support}{properties-of-direct-image-with-compact-support-functions-associated-to-relations}%
    Let $R\colon A\rightproarrow B$ be a relation.
    \begin{enumerate}
        \item\label{properties-of-direct-image-with-compact-support-functions-associated-to-relations-functoriality}\SloganFont{Functoriality. }The assignment $U\mapsto R_{!}(U)$ defines a functor
            \[
                R_{!}%
                \colon%
                (\mathcal{P}(A),\subset)%
                \to%
                (\mathcal{P}(B),\subset)%
            \]%
            where
            \begin{itemize}
                \item\SloganFont{Action on Objects. }For each $U\in\mathcal{P}(A)$, we have
                    \[
                        [R_{!}](U)%
                        \defeq%
                        R_{!}(U).
                    \]%
                \item\SloganFont{Action on Morphisms. }For each $U,V\in\mathcal{P}(A)$:
                    \begin{itemize}
                        \item If $U\subset V$, then $R_{!}(U)\subset R_{!}(V)$.
                    \end{itemize}
            \end{itemize}
        \item\label{properties-of-direct-image-with-compact-support-functions-associated-to-relations-adjointness}\SloganFont{Adjointness. }We have an adjunction
            \begin{webcompile}
                \Adjunction#R^{-1}#R_{!}#\mathcal{P}(B)#\mathcal{P}(A),#
            \end{webcompile}
            witnessed by a bijections of sets
            \[%
                \Hom_{\mathcal{P}(A)}(R^{-1}(U),V)%
                \cong%
                \Hom_{\mathcal{P}(A)}(U,R_{!}(V)),%
            \]%
            natural in $U\in\mathcal{P}(A)$ and $V\in\mathcal{P}(B)$, i.e.\ such that:
            \begin{itemize}
                \item[$(\star)$]The following conditions are equivalent:
                    \begin{itemize}
                        \item We have $R^{-1}(U)\subset V$.
                        \item We have $U\subset R_{!}(V)$.
                    \end{itemize}
            \end{itemize}
        \item\label{properties-of-direct-image-with-compact-support-functions-associated-to-relations-lax-preservation-of-colimits}\SloganFont{Lax Preservation of Colimits. }We have an inclusion of sets
            \[
                \bigcup_{i\in I}R_{!}(U_{i})%
                \subset%
                R_{!}(\bigcup_{i\in I}U_{i}),%
            \]%
            natural in $\{U_{i}\}_{i\in I}\in\mathcal{P}(A)^{\times I}$. In particular, we have inclusions%
            \[
                \begin{gathered}
                    R_{!}(U)\cup R_{!}(V) \subset R_{!}(U\cup V),\\
                    \emptyset             \subset R_{!}(\emptyset),
                \end{gathered}
            \]%
            natural in $U,V\in\mathcal{P}(A)$.
        \item\label{properties-of-direct-image-with-compact-support-functions-associated-to-relations-preservation-of-limits}\SloganFont{Preservation of Limits. }We have an equality of sets
            \[
                    R_{!}(\bigcap_{i\in I}U_{i})%
                    =%
                    \bigcap_{i\in I}R_{!}(U_{i}),%
            \]%
            natural in $\{U_{i}\}_{i\in I}\in\mathcal{P}(A)^{\times I}$. In particular, we have equalities%
            \[
                \begin{gathered}
                    R_{!}(U\cap V) = R_{!}(U)\cap R_{!}(V),\\
                    R_{!}(A)       = B,
                \end{gathered}
            \]%
            natural in $U,V\in\mathcal{P}(A)$.
        \item\label{properties-of-direct-image-with-compact-support-functions-associated-to-relations-symmetric-lax-monoidality-with-respect-to-unions}\SloganFont{Symmetric Lax Monoidality With Respect to Unions. }The direct image with compact support function of \cref{properties-of-direct-image-with-compact-support-functions-associated-to-relations-functoriality} has a symmetric lax monoidal structure
            \[
                (R_{!},R^{\otimes}_{!},R^{\otimes}_{!|\Unit})
                \colon
                (\mathcal{P}(A),\cup,\emptyset)
                \to
                (\mathcal{P}(B),\cup,\emptyset),
            \]%
            being equipped with inclusions%
            \[
                \begin{gathered}
                    R^{\otimes}_{!|U,V}   \colon R_{!}(U)\cup R_{!}(V) \subset R_{!}(U\cup V),\\
                    R^{\otimes}_{!|\Unit} \colon \emptyset               \subset R_{!}(\emptyset),
                \end{gathered}
            \]%
            natural in $U,V\in\mathcal{P}(A)$.
        \item\label{properties-of-direct-image-with-compact-support-functions-associated-to-relations-symmetric-strict-monoidality-with-respect-to-intersections}\SloganFont{Symmetric Strict Monoidality With Respect to Intersections. }The direct image function of \cref{properties-of-direct-image-with-compact-support-functions-associated-to-relations-functoriality} has a symmetric strict monoidal structure
            \[
                (R_{!},R^{\otimes}_{!},R^{\otimes}_{!|\Unit})
                \colon
                (\mathcal{P}(A),\cap,A)
                \to
                (\mathcal{P}(B),\cap,B),
            \]%
            being equipped with equalities%
            \[
                \begin{gathered}
                    R^{\otimes}_{!|U,V}   \colon R_{!}(U\cap V) \rightequalsarrow R_{!}(U)\cap R_{!}(V),\\
                    R^{\otimes}_{!|\Unit} \colon R_{!}(A)       \rightequalsarrow B,
                \end{gathered}
            \]%
            natural in $U,V\in\mathcal{P}(A)$.
        \item\label{properties-of-direct-image-with-compact-support-functions-associated-to-relations-relation-to-direct-images}\SloganFont{Relation to Direct Images. }We have
            \[
                R_{!}(U)%
                =%
                B\setminus R_{*}(A\setminus U)
            \]%
            for each $U\in\mathcal{P}(A)$.
        %\item\label{properties-of-direct-image-with-compact-support-functions-associated-to-relations-}\SloganFont{. }
    \end{enumerate}
\end{proposition}
\begin{Proof}{Proof of \cref{properties-of-direct-image-with-compact-support-functions-associated-to-relations}}%
    \FirstProofBox{\cref{properties-of-direct-image-with-compact-support-functions-associated-to-relations-functoriality}: Functoriality}%
    Clear.

    \ProofBox{\cref{properties-of-direct-image-with-compact-support-functions-associated-to-relations-adjointness}: Adjointness}%
    This follows from \ChapterRef{\ChapterKanExtensions, \cref{kan-extensions:properties-of-kan-extensions-triple-adjointness} of \cref{kan-extensions:properties-of-kan-extensions}}{\cref{properties-of-kan-extensions-triple-adjointness} of \cref{properties-of-kan-extensions}}.

    \ProofBox{\cref{properties-of-direct-image-with-compact-support-functions-associated-to-relations-lax-preservation-of-colimits}: Lax Preservation of Colimits}%
    Omitted.

    \ProofBox{\cref{properties-of-direct-image-with-compact-support-functions-associated-to-relations-preservation-of-limits}: Preservation of Limits}%
    This follows from \cref{properties-of-direct-image-with-compact-support-functions-associated-to-relations-adjointness} and \ChapterRef{\ChapterAdjunctionsAndTheYonedaLemma, \cref{adjunctions-and-the-yoneda-lemma:properties-of-adjunctions-interaction-of-co-limits} of \cref{adjunctions-and-the-yoneda-lemma:properties-of-adjunctions}}{\cref{properties-of-adjunctions-interaction-of-co-limits} of \cref{properties-of-adjunctions}}.

    \ProofBox{\cref{properties-of-direct-image-with-compact-support-functions-associated-to-relations-symmetric-lax-monoidality-with-respect-to-unions}: Symmetric Lax Monoidality With Respect to Unions}%
    This follows from \cref{properties-of-direct-image-with-compact-support-functions-associated-to-relations-lax-preservation-of-colimits}.

    \ProofBox{\cref{properties-of-direct-image-with-compact-support-functions-associated-to-relations-symmetric-strict-monoidality-with-respect-to-intersections}: Symmetric Strict Monoidality With Respect to Intersections}%
    This follows from \cref{properties-of-direct-image-with-compact-support-functions-associated-to-relations-preservation-of-limits}.

    \ProofBox{\cref{properties-of-direct-image-with-compact-support-functions-associated-to-relations-relation-to-direct-images}: Relation to Direct Images}%
    This follows from \cref{properties-of-direct-image-functions-associated-to-relations-relation-to-direct-images-with-compact-support} of \cref{properties-of-direct-image-functions-associated-to-relations}. Alternatively, we may prove it directly as follows, with the proof proceeding in the same way as in the case of functions (\ChapterRef{\ChapterConstructionsWithSets, \cref{constructions-with-sets:properties-of-direct-images-with-compact-support-i-relation-to-direct-images} of \cref{constructions-with-sets:properties-of-direct-images-with-compact-support-i}}{\cref{properties-of-direct-images-with-compact-support-i-relation-to-direct-images} of \cref{properties-of-direct-images-with-compact-support-i}}).

    We claim that $R_{!}(U)=B\setminus R_{*}(A\setminus U)$:
    \begin{itemize}
        \item\SloganFont{The First Implication. }We claim that
            \[
                R_{!}(U)%
                \subset%
                B\setminus R_{*}(A\setminus U).%
            \]%
            Let $b\in R_{!}(U)$. We need to show that $b\nin R_{*}(A\setminus U)$, i.e.\ that there is no $a\in A\setminus U$ such that $b\in R(a)$.

            This is indeed the case, as otherwise we would have $a\in R^{-1}(b)$ and $a\nin U$, contradicting $R^{-1}(b)\subset U$ (which holds since $b\in R_{!}(U)$).

            Thus $b\in B\setminus R_{*}(A\setminus U)$.
        \item\SloganFont{The Second Implication. }We claim that
            \[
                B\setminus R_{*}(A\setminus U)%
                \subset%
                R_{!}(U).%
            \]%
            Let $b\in B\setminus R_{*}(A\setminus U)$. We need to show that $b\in R_{!}(U)$, i.e.\ that $R^{-1}(b)\subset U$.

            Since $b\nin R_{*}(A\setminus U)$, there exists no $a\in A\setminus U$ such that $b\in R(a)$, and hence $R^{-1}(b)\subset U$.

            Thus $b\in R_{!}(U)$.
    \end{itemize}
    This finishes the proof.
\end{Proof}
\begin{proposition}{Properties of the Direct Image With Compact Support Function Operation}{properties-of-the-direct-image-with-compact-support-function-operation-for-relations}%
    Let $R\colon A\rightproarrow B$ be a relation.
    \begin{enumerate}
        \item\label{properties-of-the-direct-image-with-compact-support-function-operation-for-relations-functionality-1}\SloganFont{Functionality \rmI. }The assignment $R\mapsto R_{!}$ defines a function
            \[
                (-)_{!}%
                \colon%
                \Sets(A,B)
                \to%
                \Sets(\mathcal{P}(A),\mathcal{P}(B)).
            \]%
        \item\label{properties-of-the-direct-image-with-compact-support-function-operation-for-relations-functionality-2}\SloganFont{Functionality \rmII. }The assignment $R\mapsto R_{!}$ defines a function
            \[
                (-)_{!}%
                \colon%
                \Sets(A,B)
                \to%
                \Hom_{\Pos}((\mathcal{P}(A),\subset),(\mathcal{P}(B),\subset)).
            \]%
        \item\label{properties-of-the-direct-image-with-compact-support-function-operation-for-relations-interaction-with-identities}\SloganFont{Interaction With Identities. }For each $A\in\Obj(\Sets)$, we have
            \[
                (\id_{A})_{!}%
                =%
                \id_{\mathcal{P}(A)}.%
            \]%
        \item\label{properties-of-the-direct-image-with-compact-support-function-operation-for-relations-interaction-with-composition}\SloganFont{Interaction With Composition. }For each pair of composable relations $R\colon A\rightproarrow B$ and $S\colon B\rightproarrow C$, we have%
            \begin{webcompile}
                (S\procirc R)_{!}%
                =%
                S_{!}\circ R_{!},%
                \quad
                \begin{tikzcd}[row sep={5.0*\the\DL,between origins}, column sep={5.0*\the\DL,between origins}, background color=backgroundColor, ampersand replacement=\&]
                    \mathcal{P}(A)
                    \arrow[r,"R_{!}"]
                    \arrow[rd,"{(S\procirc R)_{!}}"']
                    \&
                    \mathcal{P}(B)
                    \arrow[d,"S_{!}"]
                    \\
                    \&
                    \mathcal{P}(C)\mrp{.}
                \end{tikzcd}
            \end{webcompile}
        %\item\label{properties-of-the-direct-image-with-compact-support-function-operation-for-relations-}\SloganFont{. }
    \end{enumerate}
\end{proposition}
\begin{Proof}{Proof of \cref{properties-of-the-direct-image-with-compact-support-function-operation-for-relations}}%
    \FirstProofBox{\cref{properties-of-the-direct-image-with-compact-support-function-operation-for-relations-functionality-1}: Functionality \rmI}%
    Clear.

    \ProofBox{\cref{properties-of-the-direct-image-with-compact-support-function-operation-for-relations-functionality-2}: Functionality \rmII}%
    Clear.

    \ProofBox{\cref{properties-of-the-direct-image-with-compact-support-function-operation-for-relations-interaction-with-identities}: Interaction With Identities}%
    Indeed, we have
    \begin{align*}
        (\chi_{A})_{!}(U) &\defeq \{a\in A\ \middle|\ \chi^{-1}_{A}(a)\subset U\}\\
                          &\defeq \{a\in A\ \middle|\ \{a\}\subset U\}\\
                          &=      U
    \end{align*}
    for each $U\in\mathcal{P}(A)$. Thus $(\chi_{A})_{!}=\id_{\mathcal{P}(A)}$.

    \ProofBox{\cref{properties-of-the-direct-image-with-compact-support-function-operation-for-relations-interaction-with-composition}: Interaction With Composition}%
    Indeed, we have
    \begin{align*}
        (S\procirc R)_{!}(U) &\defeq \{c\in C\ \middle|\ [S\procirc R]^{-1}(c)\subset U\}\\
                             &\defeq \{c\in C\ \middle|\ S^{-1}(R^{-1}(c))\subset U\}\\
                             &=      \{c\in C\ \middle|\ R^{-1}(c)\subset S_{!}(U)\}\\
                             &\defeq R_{!}(S_{!}(U))\\
                             &\defeq [R_{!}\circ S_{!}](U)
    \end{align*}
    for each $U\in\mathcal{P}(C)$, where we used \cref{properties-of-direct-image-with-compact-support-functions-associated-to-relations-adjointness} of \cref{properties-of-direct-image-with-compact-support-functions-associated-to-relations}, which implies that the conditions
    \begin{itemize}
        \item We have $S^{-1}(R^{-1}(c))\subset U$.
        \item We have $R^{-1}(c)\subset S_{!}(U)$.
    \end{itemize}
    are equivalent. Thus $(S\procirc R)_{!}=S_{!}\circ R_{!}$.
\end{Proof}
\subsection{Functoriality of Powersets}\label{subsection-functoriality-of-powersets}
\begin{proposition}{Functoriality of Powersets \rmI}{functoriality-of-powersets-1}%
    The assignment $X\mapsto\mathcal{P}(X)$ defines functors\index[notation]{Pstar@$\mathcal{P}_{*}$}\index[notation]{Pminusone@$\mathcal{P}^{-1}$}\index[notation]{Pshriek@$\mathcal{P}_{"!}$}%
    %--- Begin Footnote ---%
    \footnote{%
        The functor $\mathcal{P}_{*}\colon\Rel\to\Sets$ admits a left adjoint; see \cref{properties-of-graphs-of-functions-adjointness} of \cref{properties-of-graphs-of-functions}.
        \par\vspace*{-1.75\baselineskip}
    }%
    %---  End Footnote  ---%
    \begin{align*}
        \mathcal{P}_{*}  &\colon \Rel       \to \Sets,\\%
        \mathcal{P}_{-1} &\colon \Rel^{\op} \to \Sets,\\%
        \mathcal{P}^{-1} &\colon \Rel^{\op} \to \Sets,\\%
        \mathcal{P}_{!}  &\colon \Rel       \to \Sets%
    \end{align*}
    where
    \begin{itemize}
        \item\SloganFont{Action on Objects. }For each $A\in\Obj(\Rel)$, we have
            \begin{align*}
                \mathcal{P}_{*}(A)  &\defeq \mathcal{P}(A),\\%
                \mathcal{P}_{-1}(A) &\defeq \mathcal{P}(A),\\%
                \mathcal{P}^{-1}(A) &\defeq \mathcal{P}(A),\\%
                \mathcal{P}_{!}(A)  &\defeq \mathcal{P}(A).%
            \end{align*}
        \item\SloganFont{Action on Morphisms. }For each morphism $R\colon A\rightproarrow B$ of $\Rel$, the images
            \begin{align*}
                \mathcal{P}_{*}(R)  &\colon \mathcal{P}(A) \to \mathcal{P}(B),\\%
                \mathcal{P}_{-1}(R) &\colon \mathcal{P}(B) \to \mathcal{P}(A),\\%
                \mathcal{P}^{-1}(R) &\colon \mathcal{P}(B) \to \mathcal{P}(A),\\%
                \mathcal{P}_{!}(R)  &\colon \mathcal{P}(A) \to \mathcal{P}(B)%
            \end{align*}
            of $R$ by $\mathcal{P}_{*}$, $\mathcal{P}_{-1}$, $\mathcal{P}^{-1}$, and $\mathcal{P}_{!}$ are defined by
            \begin{align*}
                \mathcal{P}_{*}(R)  &\defeq R_{*},\\%
                \mathcal{P}_{-1}(R) &\defeq R_{-1},\\%
                \mathcal{P}^{-1}(R) &\defeq R^{-1},\\%
                \mathcal{P}_{!}(R)  &\defeq R_{!},%
            \end{align*}
            as in \cref{the-direct-image-function-associated-to-a-relation,the-strong-inverse-image-function-associated-to-a-relation,the-weak-inverse-image-function-associated-to-a-relation,the-direct-image-with-compact-support-function-associated-to-a-relation}.
    \end{itemize}
\end{proposition}
\begin{Proof}{Proof of \cref{functoriality-of-powersets-1}}%
    This follows from \cref{properties-of-the-direct-image-function-operation-for-relations-interaction-with-identities,properties-of-the-direct-image-function-operation-for-relations-interaction-with-composition} of \cref{properties-of-the-direct-image-function-operation-for-relations}, \cref{properties-of-the-strong-inverse-image-function-operation-for-relations-interaction-with-identities,properties-of-the-strong-inverse-image-function-operation-for-relations-interaction-with-composition} of \cref{properties-of-the-strong-inverse-image-function-operation-for-relations}, \cref{properties-of-the-weak-inverse-image-function-operation-for-relations-interaction-with-identities,properties-of-the-weak-inverse-image-function-operation-for-relations-interaction-with-composition} of \cref{properties-of-the-weak-inverse-image-function-operation-for-relations}, and \cref{properties-of-the-direct-image-with-compact-support-function-operation-for-relations-interaction-with-identities,properties-of-the-direct-image-with-compact-support-function-operation-for-relations-interaction-with-composition} of \cref{properties-of-the-direct-image-with-compact-support-function-operation-for-relations}.
\end{Proof}
\subsection{Functoriality of Powersets: Relations on Powersets}\label{functoriality-of-powersets-relations-on-powersets}
Let $A$ and $B$ be sets and let $R\colon A\rightproarrow B$ be a relation.
\begin{definition}{The Relation on Powersets Associated to a Relation}{the-relation-on-powersets-associated-to-a-relation}%
    The \index[set-theory]{relation!on powersets associated to a relation}\textbf{relation on powersets associated to $R$} is the relation
    \[
        \mathcal{P}(R)%
        \colon%
        \mathcal{P}(A)%
        \rightproarrow
        \mathcal{P}(B)%
    \]%
    defined by%
    %--- Begin Footnote ---%
    \footnote{%
        Illustration:%
        \[
            \begin{tikzcd}[row sep={4.0*\the\DL,between origins}, column sep={4.0*\the\DL,between origins}, background color=backgroundColor, ampersand replacement=\&]
                \pt%
                \arrow[rrr,mid vert,bend left=15,"\chi_{\pt}"]
                \arrow[r,mid vert,"U"']
                \&
                A
                \arrow[r,mid vert,"R"']
                \&
                B
                \arrow[r,mid vert,"V"']
                \&
                \pt\mrp{.}%
            \end{tikzcd}
        \]%
        \par\vspace*{-1.625\baselineskip}
    }%
    %---  End Footnote  ---%
    \[
        \mathcal{P}(R)^{V}_{U}%
        \defeq%
        \eRel(\chi_{\pt},V\procirc R\procirc U)%
    \]%
    for each $U\in\mathcal{P}(A)$ and each $V\in\mathcal{P}(B)$.
\end{definition}
\begin{remark}{Unwinding \cref{the-relation-on-powersets-associated-to-a-relation}}{unwinding-the-relation-on-powersets-associated-to-a-relation}%
    In detail, we have $U\sim_{\mathcal{P}(R)}V$ \textiff the following equivalent conditions hold:
    \begin{itemize}
        \item We have $\chi_{\pt}\subset V\procirc R\procirc U$.
        \item We have $(V\procirc R\procirc U)^{\point}_{\point}=\true$, i.e.\ we have
            \[
                \int^{a\in A}\int^{b\in B}V^{\point}_{b}\times R^{b}_{a}\times U^{a}_{\point}%
                =%
                \true.%
            \]%
        \item There exists some $a\in A$ and some $b\in B$ such that:
            \begin{itemize}
                \item We have $U^{a}_{\point}=\true$.
                \item We have $R^{b}_{a}=\true$.
                \item We have $V^{\point}_{b}=\true$.
            \end{itemize}
        \item There exists some $a\in A$ and some $b\in B$ such that:
            \begin{itemize}
                \item We have $a\in U$.
                \item We have $a\sim_{R}b$.
                \item We have $b\in V$.
            \end{itemize}
    \end{itemize}
\end{remark}
\begin{proposition}{Functoriality of Powersets \rmII}{functoriality-of-powersets-2}%
    The assignment $R\mapsto\mathcal{P}(R)$ defines a functor
    \[
        \mathcal{P}%
        \colon%
        \Rel%
        \to%
        \Rel.
    \]%
\end{proposition}
\begin{Proof}{Proof of \cref{functoriality-of-powersets-2}}%
    Omitted.
\end{Proof}
\begin{appendices}
\input{ABSOLUTEPATH/chapters2.tex}
\end{appendices}
\end{document}
